(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var cards = document.querySelector('#js-adv-cards');

(function () {
  var state = {
    threshold: {
      bottom: 50,
      //на каком расстоянии от нижней кромки хотим увидеть
      top: 50,
      translateY: parseFloat(getComputedStyle(cards.children[0]).transform.split(',')[5]) //вернуть позицию сдвига

    },
    delay: parseFloat(getComputedStyle(cards.children[0]).transitionDuration),
    total: 0,
    visibilityReact: false
  };
  document.addEventListener('scroll', checkedCard);

  function checkedCard(ev) {
    _toConsumableArray(cards.children).forEach(function (card, inx) {
      state.visibilityReact = checkVisible(card, state.threshold);

      if (!card.classList.contains('card--active') && state.visibilityReact) {
        state.total += state.delay / (inx + 1);
        card.style.transitionDuration = state.total.toFixed(2) + 's';
        card.style.transitionDelay = (state.total / 3).toFixed(2) + 's';
        card.classList.add('card--active');
      }

      if (card.classList.contains('card--active') && !state.visibilityReact) {
        console.dir(22);
        state.total = 0;
        state.visibilityReact = false;
        card.classList.remove('card--active');
      }
    });
  }

  function checkVisible(el) {
    var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      bottom: 0,
      top: 0,
      translateY: 0
    };
    var top = el.getBoundingClientRect().top;
    var bottom = el.getBoundingClientRect().bottom;

    if (top - threshold.translateY + threshold.bottom - window.innerHeight <= 0 || bottom + threshold.bottom < 0) {
      return true;
    } else return false;
  }
})();

},{}],2:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Element.prototype.createCount = function () {
  var nameClass = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var maxCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {
    tag: '',
    element: ''
  };
  var tag = option.tag ? option.tag : 'span';
  this.countClassName = nameClass;
  this.maxCount = maxCount;
  this.constructor.prototype.updateCount = updateCount;
  var el = "<".concat(tag, " class=").concat(nameClass, " >").concat(this.value.length, "/").concat(maxCount, "</").concat(tag, ">");

  if (_typeof(option.element) === 'object') {
    option.element.insertAdjacentHTML('afterend', el);
    this.countTarget = option.element;
    return;
  }

  this.insertAdjacentHTML('afterend', el);
};

function updateCount() {
  var countTarget = this.countTarget ? this.countTarget.nextElementSibling : this.nextElementSibling;
  countTarget.textContent = "".concat(this.value.length, "/").concat(this.maxCount);
}

},{}],3:[function(require,module,exports){
"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var header = document.querySelector('.header');

if (header.clientWidth < 768) {
  var btnMenu = "\n    <div class=\"btn-burger\">\n      <i class=\"btn-burger__item\"></i>\n      <i class=\"btn-burger__item\"></i>\n      <i class=\"btn-burger__item\"></i>\n    </div>\n  ";
  header.insertAdjacentHTML("beforeend", btnMenu);
  var headerBtnMenu = document.querySelector('.btn-burger');
  headerBtnMenu.addEventListener('click', toggleMenu);
}

function toggleMenu(ev) {
  this.parentNode.children[0].classList.toggle('header__items--active');
  this.parentNode.classList.toggle('header--active');

  _toConsumableArray(this.children).forEach(function (burgerItem) {
    burgerItem.classList.toggle('btn-burger__item--active');
  });
}

},{}],4:[function(require,module,exports){
"use strict";

var _slider = _interopRequireDefault(require("./slider"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.onload = function () {
  (0, _slider.default)();
};

},{"./slider":11}],5:[function(require,module,exports){
"use strict";

var imageIst = document.querySelectorAll('.inst__slider-item');
var imgOption = {
  root: document.querySelector('.inst__sliders'),

  /* должен быть предком. по умолчанию окно браузера */
  rootMargin: '0px 500px 0px 0px',

  /*Отступы вокруг root.  */
  threshold: .05
  /* число от 0-1. это насколько процентов должен быть видео объект при котором
  //                  должна отработать callback функция. Можно даж массив передать. [0, 0.25, 0.5, 0.75, 1] */

};
var imgObserver = new IntersectionObserver(function (entries, imgObserver) {
  entries.forEach(function (_ref) {
    var target = _ref.target,
        isIntersecting = _ref.isIntersecting;

    if (!isIntersecting) {
      /*элементы не пересекают границу. false */
      return;
    }

    target.src = target.getAttribute("data-src");
    imgObserver.unobserve(target);
  });
}, imgOption);
imageIst.forEach(function (item) {
  imgObserver.observe(item);
});

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.popup = popup;

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function popup(popupEl, btnOpen) {
  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {
    noBlockEl: '',
    scrollOff: false,
    opened: '',
    closing: ''
  };
  var close = popupEl.querySelector("#".concat(popupEl.id, "-close"));
  var saveScrollToTheOpen;
  btnOpen.addEventListener('click', openPrice);
  popupEl.addEventListener('click', closePrice);

  function openPrice(ev) {
    popupEl.style.display = "flex";
    saveScrollToTheOpen = window.scrollY;
    lockScroll();

    if (typeof option.opened == 'function') {
      option.opened();
    }
  }

  function closePrice(ev) {
    if (ev.target == popupEl || ev.target == close) {
      popupEl.style.display = "none";
      unlockScroll();

      if (typeof option.closing == 'function') {
        option.closing();
      }
    }
  }
  /*#######---------<{ Control Scroll}>---------##########*/


  function lockScroll() {
    window.addEventListener('wheel', evWheel, {
      passive: false
    });
    window.addEventListener('scroll', evScroll);
  }

  function unlockScroll() {
    window.removeEventListener('wheel', evWheel, {
      passive: false
    });
    window.removeEventListener('scroll', evScroll);
  }

  function evWheel(ev) {
    if (_typeof(option.noBlockEl) == 'object') {
      if (!option.noBlockEl.contains(ev.target)) {
        ev.preventDefault();
        return;
      }
    } else if (option.scrollOff) {
      ev.preventDefault();
      return;
    }

    console.dir("evWheel");
    this.scrollTo(0, saveScrollToTheOpen);
  }

  function evScroll(ev) {
    console.dir("evScroll");
    this.scrollTo(0, saveScrollToTheOpen);
  }
} // function popup(popupEl, btnOpen, option = {noBlockEl: null, opened: null}){
//   let close = popupEl.querySelector(`.${popupEl.className}__close`);
//   let saveScrollToTheOpen;
//   btnOpen.addEventListener('click', openPrice);
//   popupEl.addEventListener('click', closePrice);
//   function openPrice(ev) {
//     popupEl.style.display = "flex"; 
//     saveScrollToTheOpen = window.scrollY;
//     lockScroll();
//     if(typeof option.opened == 'function'){
//       option.opened()
//     }
//   }
//   function closePrice(ev) {
//     if(ev.target == popup || ev.target == close){
//       popupEl.style.display = "none"; 
//       unlockScroll()
//     }
//   }
//   function lockScroll() {
//     window.addEventListener('wheel', evWheel, { passive: false })
//     window.addEventListener('scroll', evScroll) 
//   }
//   function unlockScroll() {
//     window.removeEventListener('wheel', evWheel, { passive: false })
//     window.removeEventListener('scroll', evScroll)
//   }
//   function evWheel(ev) {
//     if(typeof option.noBlockEl == 'object'){
//       if(!option.noBlockEl.contains(ev.target)){
//         ev.preventDefault(); return; 
//       }
//     }
//     this.scrollTo(0, saveScrollToTheOpen);
//   } 
//   function evScroll(ev) {
//     this.scrollTo(0, saveScrollToTheOpen)
//   } 
// }

/* Кнопка будет вызывать данную функцию */

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.preloaderTable = preloaderTable;

function preloaderTable() {
  return "<div id=\"preloader\">\n            <div id=\"loader\"></div>\n          </div>";
}

},{}],8:[function(require,module,exports){
"use strict";

var _preloader = require("./preloader");

var _popup = require("./popup");

var _config = require("../../../config/config.json");

function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var priceBtn = document.querySelector('#js-popup-pl-open');
var priceList = document.querySelector('#js-popup-pl');
var priceTable = document.querySelector('#js-p-table');
var tableBody = document.querySelector('#js-p-tableBody');
(0, _popup.popup)(priceList, priceBtn, {
  noBlockEl: priceTable,
  opened: ajaxRequestTable
});
/*########---------<{ Main Function }>---------#########*/

function ajaxRequestTable() {
  if (!tableBody.children.length) {
    tableBody.innerHTML = (0, _preloader.preloaderTable)();
    fetch("".concat(_config.protocol, "://").concat(_config.host).concat(_config.port, "/table")).then(function (data) {
      return data.json();
    }).then(function (data) {
      tableBody.innerHTML = '';
      renderTable(data);
    }).then(function () {
      hangTheFunctionality();
    }).catch(function (err) {
      tableBody.textContent = err;
    });
  } else console.dir('Данные уже загружены');
}
/*#######------<{ renderTable and hangTheFunctionality }>--------#######*/


function renderTable(data) {
  var _iterator = _createForOfIteratorHelper(data),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var arrTables = _step.value;
      console.dir(arrTables);

      if (Number(arrTables.id) === 1) {
        tableBody.innerHTML += "<tr class=\"price-list__row-head-title\" >\n        <th class=\"price-list__cell-head-title\" colspan=\"4\">".concat(arrTables.services, "</th>\n      </tr>\n        <tr class=\"price-list__row-info\" >\n          <td class=\"price-list__cell-info\">\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435</td>\n          <td class=\"price-list__cell-info\">\u0415\u0434.\u0438\u0437\u043C.</td>\n          <td class=\"price-list__cell-info\">\u0426\u0435\u043D\u0430(\u0440\u0443\u0431.)</td>\n          <td class=\"price-list__cell-info\">\u041A\u043E\u043B-\u0432\u043E</td>\n          <td class=\"price-list__cell-info\">\u0421\u0443\u043C\u043C\u0430</td>\n        </tr>");
      } else {
        tableBody.innerHTML += "<tr class=\"price-list__row\">\n        <td class=\"price-list__cell\">".concat(arrTables.services, "</td>\n        <td class=\"price-list__cell\">").concat(arrTables.unit, "</td>\n        <td class=\"price-list__cell js-p-rub\">").concat(arrTables.price, "</td>\n        <td class=\"price-list__cell\">\n          <input class=\"price-list__input js-p-input\" type=\"text\" name=\"dataCell\">\n        </td>\n        <td class=\"price-list__cell js-p-sum\">0</td>\n      </tr>");
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
}

function hangTheFunctionality() {
  var priceRublesCell = document.querySelectorAll('.js-p-rub');
  var priceInputCells = document.querySelectorAll('.js-p-input');
  var priceSumCell = document.querySelectorAll('.js-p-sum');
  var priceResult = document.querySelector('#js-p-result');
  var arrNumbers = [];
  priceInputCells.forEach(function (item, inx) {
    item.addEventListener('input', changeInput.bind(item, inx));
  });

  function changeInput(inx, ev) {
    this.value = this.value.replace(/\D/g, ''); //blocking character input
    //заперли inx в замыкании привязав input к индексам массива.

    priceSumCell[inx].textContent = arrNumbers[inx] = getSumInputs(this.value, inx);
    priceResult.textContent = getResult(arrNumbers);
  }

  function getSumInputs(val, inx) {
    return +priceRublesCell[inx].textContent * +val;
  }

  function getResult(arr) {
    return arr.reduce(function (prev, num) {
      return prev += +num;
    }, 0);
  }
}

},{"../../../config/config.json":12,"./popup":6,"./preloader":7}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.state = void 0;

var _state;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var inputName = document.querySelector('#js-m-name');
var inputPhone = document.querySelector('#js-m-phone');
var textArea = document.querySelector('#js-m-textarea');
var state = (_state = {}, _defineProperty(_state, inputName.name, {
  min: 2,
  max: 15,
  status: false,
  length: 0,
  value: ''
}), _defineProperty(_state, inputPhone.name, {
  min: 18,
  max: 18,
  status: false,
  length: 0,
  value: ''
}), _defineProperty(_state, textArea.name, {
  min: 10,
  max: 400,
  status: false,
  length: 0,
  value: ''
}), _state);
exports.state = state;
[inputName, inputPhone, textArea].forEach(function (item) {
  item.addEventListener('input', checkInAll);
});
textArea.createCount('mail-popup__form-count', state[textArea.name].max, {
  element: textArea.parentElement
});

function checkInAll(ev) {
  ev.preventDefault();

  if (this === inputName || this === textArea) {
    this.value = this.value.replace(/[%<>&]|(script)/g, '');
    if (this === textArea) this.updateCount();
  }

  if (this == inputPhone) maskInput(this, ev);
  maxMin(this);
}

function maxMin(el) {
  var stateItem = state[el.name];

  if (el.value.length >= stateItem.min && stateItem.length <= stateItem.max) {
    stateItem.status = true;
    el.style.animationName = 'glowInputSuccess';
  } else {
    stateItem.status = false;
    el.style.animationName = 'glowInputError';
  }

  if (el.value.length > stateItem.max) {
    el.value = el.value.slice(0, stateItem.max);
  } else {
    stateItem.length = el.value.length;
    stateItem.value = el.value;
  }
}

function maskInput(el, ev) {
  var input = el;
  var mask = input.dataset.mask;
  var value = input.value;
  var literalPattern = /[0\*]/;
  var numberPattern = /[0-9]/gi; //+7 (000) 000-00-00//\+7\s\(9\d{2}\)\s\d{3}-\d{2}-\d{2}

  var newValue = "";

  if (/\D/.test(ev.data)) {
    el.value = el.value.replace(ev.data, '');
    return;
  }

  try {
    var maskLength = mask.length;
    var valueIndex = 0;
    var maskIndex = 0;

    for (; maskIndex < maskLength;) {
      if (maskIndex >= value.length) break;
      if (mask[maskIndex] === "0" && value[valueIndex].match(numberPattern) === null) break; // Found a literal

      while (mask[maskIndex].match(literalPattern) === null) {
        if (value[valueIndex] === mask[maskIndex]) break;
        newValue += mask[maskIndex++];
      }

      newValue += value[valueIndex++];
      maskIndex++;
    }

    input.value = newValue;
  } catch (e) {
    console.log(e);
  }
} //^[+\d]*[(]\d{3}[)]\d{3}-\d{2}-\d{2}/g

},{}],10:[function(require,module,exports){
"use strict";

var _popup = require("../popup");

var _checkIn = require("./check-in");

var _config = require("../../../../config/config.json");

var popupMail = document.querySelector('#js-popup-mail');
var popupOpen = document.querySelector('#js-popup-mail-open');
var mailForm = document.querySelector('#js-m-form');
(0, _popup.popup)(popupMail, popupOpen, {
  scrollOff: true,
  closing: resetForm
});
mailForm.addEventListener('submit', sendMail);

function sendMail(ev) {
  ev.preventDefault();
  console.dir(_checkIn.state);

  if (!Object.values(_checkIn.state).every(function (item) {
    return item.status;
  })) {
    return;
  }

  console.dir('успех');
  fetch("".concat(_config.protocol, "://").concat(_config.host).concat(_config.port, "/mail"), {
    method: 'POST',
    body: new FormData(this)
  }).then(function (data) {
    return data.json();
  }).then(function (data) {
    success(JSON.stringify(data));
  }).catch(function (err) {
    console.dir(err);
  });
}

var msg = "<div class=\"mail-popup__form-success-msg\">\u041F\u0438\u0441\u044C\u043C\u043E \u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E</div>";

function success(data) {
  console.info(data);
  mailForm.classList.add('mail-popup__form--success');
  var timing = parseFloat(getComputedStyle(mailForm).transitionDuration);
  setTimeout(function () {
    mailForm.insertAdjacentHTML('afterend', msg); //JSON.stringify(data)
  }, timing * 1000);
}

function resetForm() {
  var elSuccessMsg = mailForm.nextElementSibling;

  if (elSuccessMsg && elSuccessMsg.matches('.mail-popup__form-success-msg')) {
    mailForm.parentElement.removeChild(elSuccessMsg);
    mailForm.classList.remove('mail-popup__form--success');

    for (var i = 0; i < mailForm.length - 1; i++) {
      mailForm[i].value = '';

      if (mailForm[i].updateCount) {
        console.info('Счётчик Сброшен');
        mailForm[i].updateCount();
      }
    }
  }
}

function err(data) {
  mailForm.classList.toggle('mail-popup__form--error');
  var timing = parseFloat(getComputedStyle(mailForm).transitionDuration);
  console.dir(timing);
  setTimeout(function () {
    mailForm.insertAdjacentHTML('afterend', msg); //JSON.stringify(data)
  }, timing * 1000);
}

},{"../../../../config/config.json":12,"../popup":6,"./check-in":9}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _default() {
  var multiItemSlider = function () {
    Element.prototype.c_querySelector = function (selectOrRegExp) {
      var flag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (selectOrRegExp.constructor === RegExp.prototype.constructor && flag) {
        return _toConsumableArray(this.children).find(function (item) {
          return selectOrRegExp.test(item.className);
        });
      } else {
        return this.querySelector(selectOrRegExp);
      }
    };

    Element.prototype.c_querySelectorAll = function (selectOrRegExp) {
      var flag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (selectOrRegExp.constructor === RegExp.prototype.constructor && flag) {
        return _toConsumableArray(this.children).filter(function (item) {
          return selectOrRegExp.test(item.className);
        });
      } else {
        return this.querySelectorAll(selectOrRegExp);
      }
    };

    function _isElementVisible(element) {
      // возможно потребуется установить элементу z-index:0
      var rect = element.getBoundingClientRect(),
          vWidth = window.innerWidth || doc.documentElement.clientWidth,
          vHeight = window.innerHeight || doc.documentElement.clientHeight,
          elemFromPoint = function elemFromPoint(x, y) {
        return document.elementFromPoint(x, y);
      };

      if (rect.right < 0 || rect.bottom < 0 || rect.left > vWidth || rect.top > vHeight) return false;
      return element.contains(elemFromPoint(rect.left, rect.top)) || element.contains(elemFromPoint(rect.right, rect.top)) || element.contains(elemFromPoint(rect.right, rect.bottom)) || element.contains(elemFromPoint(rect.left, rect.bottom));
    }

    return function (selector, config) {
      var _mainElement = document.querySelector(selector),
          _sliderWrapper = _mainElement.c_querySelector(/.+items/, true),
          _sliderItems = _sliderWrapper.c_querySelectorAll(/.+item/, true),
          _sliderControls = _mainElement.c_querySelectorAll(/.+control/, true),
          _sliderControlLeft = _mainElement.c_querySelector(/.+control_left/, true),
          _sliderControlRight = _mainElement.c_querySelector(/.+control_right/, true),
          _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width),
          _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width),
          _html = _mainElement.innerHTML;

      var _indexIndicator = 0,
          _maxIndexIndicator = _sliderItems.length - 1,
          _indicatorItems,
          _positionLeftItem = 0,
          _transform = 0,
          _step = _itemWidth / _wrapperWidth * 100,
          _items = [],
          _interval = 0,
          _states = [{
        active: false,
        minWidth: 0,
        count: 1
      }, {
        active: false,
        minWidth: 576,
        count: 2
      }, {
        active: false,
        minWidth: 992,
        count: 3
      }, {
        active: false,
        minWidth: 1200,
        count: 4
      }],
          _config = {
        isCycling: false,
        direction: 'right',
        interval: 5000,
        pause: true
      };

      for (var key in config) {
        if (key in _config) {
          _config[key] = config[key];
        }
      }

      _sliderItems.forEach(function (item, index) {
        _items.push({
          item: item,
          position: index,
          transform: 0
        });
      });

      var _setActive = function _setActive() {
        var _index = 0;
        var width = parseFloat(document.body.clientWidth);

        _states.forEach(function (item, index, arr) {
          _states[index].active = false;
          if (width >= _states[index].minWidth) _index = index;
        });

        _states[_index].active = true;
      };

      var _getActive = function _getActive() {
        var _index;

        _states.forEach(function (item, index, arr) {
          if (_states[index].active) {
            _index = index;
          }
        });

        return _index;
      };

      var position = {
        getItemMin: function getItemMin() {
          var indexItem = 0;

          _items.forEach(function (item, index) {
            if (item.position < _items[indexItem].position) {
              indexItem = index;
            }
          });

          return indexItem;
        },
        getItemMax: function getItemMax() {
          var indexItem = 0;

          _items.forEach(function (item, index) {
            if (item.position > _items[indexItem].position) {
              indexItem = index;
            }
          });

          return indexItem;
        },
        getMin: function getMin() {
          return _items[position.getItemMin()].position;
        },
        getMax: function getMax() {
          return _items[position.getItemMax()].position;
        }
      };

      var _transformItem = function _transformItem(direction) {
        var nextItem,
            currentIndicator = _indexIndicator; // console.dir(_isElementVisible(_mainElement)); 
        // if (!_isElementVisible(_mainElement)) {
        //   return;
        // }

        if (direction === 'right') {
          _positionLeftItem++;

          if (_positionLeftItem + _wrapperWidth / _itemWidth - 1 > position.getMax()) {
            nextItem = position.getItemMin();
            _items[nextItem].position = position.getMax() + 1;
            _items[nextItem].transform += _items.length * 100;
            _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';
          }

          _transform -= _step;
          _indexIndicator = _indexIndicator + 1;

          if (_indexIndicator > _maxIndexIndicator) {
            _indexIndicator = 0;
          }
        }

        if (direction === 'left') {
          _positionLeftItem--;

          if (_positionLeftItem < position.getMin()) {
            nextItem = position.getItemMax();
            _items[nextItem].position = position.getMin() - 1;
            _items[nextItem].transform -= _items.length * 100;
            _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';
          }

          _transform += _step;
          _indexIndicator = _indexIndicator - 1;

          if (_indexIndicator < 0) {
            _indexIndicator = _maxIndexIndicator;
          }
        }

        _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';

        _indicatorItems[currentIndicator].classList.remove('active');

        _indicatorItems[_indexIndicator].classList.add('active');
      };

      var _slideTo = function _slideTo(to) {
        var i = 0,
            direction = to > _indexIndicator ? 'right' : 'left';

        while (to !== _indexIndicator && i <= _maxIndexIndicator) {
          _transformItem(direction);

          i++;
        }
      };

      var _cycle = function _cycle(direction) {
        if (!_config.isCycling) {
          return;
        }

        _interval = setInterval(function () {
          _transformItem(direction);
        }, _config.interval);
      };

      var _controlClick = function _controlClick(e) {
        if (e.target.classList.contains('slider__control')) {
          e.preventDefault();
          var direction = e.target.classList.contains('slider__control_right') ? 'right' : 'left';

          _transformItem(direction);

          clearInterval(_interval);

          _cycle(_config.direction);
        }

        if (e.target.getAttribute('data-slide-to')) {
          e.preventDefault();

          _slideTo(parseInt(e.target.getAttribute('data-slide-to')));

          clearInterval(_interval);

          _cycle(_config.direction);
        }
      };

      var _handleVisibilityChange = function _handleVisibilityChange() {
        if (document.visibilityState === "hidden") {
          clearInterval(_interval);
        } else {
          clearInterval(_interval);

          _cycle(_config.direction);
        }
      };

      var _refresh = function _refresh() {
        clearInterval(_interval);
        _mainElement.innerHTML = _html;
        _sliderWrapper = _mainElement.c_querySelector(/.+items/, true);
        _sliderItems = _sliderWrapper.c_querySelectorAll(/.+item/, true);
        _sliderControls = _mainElement.c_querySelectorAll(/.+control/, true);
        _sliderControlLeft = _mainElement.c_querySelector(/.+control_left/, true);
        _sliderControlRight = _mainElement.c_querySelector(/.+control_right/, true);
        _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width);
        _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width);
        _positionLeftItem = 0;
        _transform = 0;
        _indexIndicator = 0;
        _maxIndexIndicator = _sliderItems.length - 1;
        _step = _itemWidth / _wrapperWidth * 100;
        _items = [];

        _sliderItems.forEach(function (item, index) {
          _items.push({
            item: item,
            position: index,
            transform: 0
          });
        });

        _addIndicators();
      };

      var _setUpListeners = function _setUpListeners() {
        _mainElement.addEventListener('click', _controlClick);

        if (_config.pause && _config.isCycling) {
          _mainElement.addEventListener('mouseenter', function () {
            clearInterval(_interval);
          });

          _mainElement.addEventListener('mouseleave', function () {
            clearInterval(_interval);

            _cycle(_config.direction);
          });
        }

        document.addEventListener('visibilitychange', _handleVisibilityChange, false);
        window.addEventListener('resize', function () {
          var _index = 0,
              width = parseFloat(document.body.clientWidth);

          _states.forEach(function (item, index, arr) {
            if (width >= _states[index].minWidth) _index = index;
          });

          if (_index !== _getActive()) {
            _setActive();

            _refresh();
          }
        });
      };

      var _addIndicators = function _addIndicators() {
        var sliderIndicators = document.createElement('ol');
        sliderIndicators.classList.add(selector.split('__')[0].slice(1) + '__indicators');

        for (var i = 0; i < _sliderItems.length; i++) {
          var sliderIndicatorsItem = document.createElement('li');

          if (i === 0) {
            sliderIndicatorsItem.classList.add('active');
          }

          sliderIndicatorsItem.setAttribute("data-slide-to", i);
          sliderIndicators.appendChild(sliderIndicatorsItem);

          _sliderWrapper.insertAdjacentElement("afterend", sliderIndicators);
        } // console.dir(sliderIndicators);
        // _mainElement.appendChild(sliderIndicators);


        _indicatorItems = _mainElement.querySelectorAll(selector.split('__')[0] + '__indicators > li');
      }; // добавляем индикаторы


      _addIndicators(); // инициализация


      _setUpListeners();

      if (document.visibilityState === "visible") {
        _cycle(_config.direction);
      }

      _setActive();

      return {
        right: function right() {
          _transformItem('right');
        },
        left: function left() {
          _transformItem('left');
        },
        stop: function stop() {
          _config.isCycling = false;
          clearInterval(_interval);
        },
        cycle: function cycle() {
          _config.isCycling = true;
          clearInterval(_interval);

          _cycle();
        }
      };
    };
  }();

  var slider = multiItemSlider('.slider', {
    isCycling: true,
    interval: 8000
  });
  var instSlider1 = multiItemSlider('.inst__slider--1', {
    isCycling: true,
    interval: 5000
  });
  var instSlider2 = multiItemSlider('.inst__slider--2', {
    isCycling: true,
    interval: 5000
  });
  var instSlider3 = multiItemSlider('.inst__slider--3', {
    isCycling: true,
    interval: 5000
  });
  var instSlider4 = multiItemSlider('.inst__slider--4', {
    isCycling: true,
    interval: 5000
  });
}

},{}],12:[function(require,module,exports){
module.exports={
  "protocol": "https",
  "host": "elektrikstaff.ru",
  "port": ""
}
},{}]},{},[1,2,3,4,5,6,7,8,9,10,11])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXNzZXRzL2pzL2Rldi9hZHZhbnRhZ2VzLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvZXh0ZW5zaW9uRE9NLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvaGVhZGVyLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvaW5kZXguanMiLCJzcmMvYXNzZXRzL2pzL2Rldi9sYXp5TG9hZGluZy5qcyIsInNyYy9hc3NldHMvanMvZGV2L3BvcHVwLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvcHJlbG9hZGVyLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvcHJpY2UtbGlzdC5qcyIsInNyYy9hc3NldHMvanMvZGV2L3NlY3Rpb24tbWFpbC9jaGVjay1pbi5qcyIsInNyYy9hc3NldHMvanMvZGV2L3NlY3Rpb24tbWFpbC9zZW5kRm9ybS5qcyIsInNyYy9hc3NldHMvanMvZGV2L3NsaWRlci5qcyIsInNyYy9jb25maWcvY29uZmlnLmpzb24iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztBQ0FBLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLGVBQXZCLENBQVo7O0FBQ0EsQ0FBQyxZQUFVO0FBQ1QsTUFBSSxLQUFLLEdBQUc7QUFDVixJQUFBLFNBQVMsRUFBRTtBQUNULE1BQUEsTUFBTSxFQUFFLEVBREM7QUFDRTtBQUNYLE1BQUEsR0FBRyxFQUFFLEVBRkk7QUFHVCxNQUFBLFVBQVUsRUFBRSxVQUFVLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLFFBQU4sQ0FBZSxDQUFmLENBQUQsQ0FBaEIsQ0FBb0MsU0FBcEMsQ0FBOEMsS0FBOUMsQ0FBb0QsR0FBcEQsRUFBeUQsQ0FBekQsQ0FBRCxDQUhiLENBRzJFOztBQUgzRSxLQUREO0FBTVYsSUFBQSxLQUFLLEVBQUUsVUFBVSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxRQUFOLENBQWUsQ0FBZixDQUFE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QUUsSUFEMkI7QUFFdEMsSUFBQSxRQUFRLEVBQUU7QUFGNEIsR0FBWixDQUE1QjtBQUlBLE1BQUksV0FBVyxHQUFHLGVBQWUsQ0FBQyxrQkFBRCxFQUFxQjtBQUNwRCxJQUFBLFNBQVMsRUFBRSxJQUR5QztBQUVwRCxJQUFBLFFBQVEsRUFBRTtBQUYwQyxHQUFyQixDQUFqQztBQUlBLE1BQUksV0FBVyxHQUFHLGVBQWUsQ0FBQyxrQkFBRCxFQUFxQjtBQUNwRCxJQUFBLFNBQVMsRUFBRSxJQUR5QztBQUVwRCxJQUFBLFFBQVEsRUFBRTtBQUYwQyxHQUFyQixDQUFqQztBQUlBLE1BQUksV0FBVyxHQUFHLGVBQWUsQ0FBQyxrQkFBRCxFQUFxQjtBQUNwRCxJQUFBLFNBQVMsRUFBRSxJQUR5QztBQUVwRCxJQUFBLFFBQVEsRUFBRTtBQUYwQyxHQUFyQixDQUFqQztBQUlBLE1BQUksV0FBVyxHQUFHLGVBQWUsQ0FBQyxrQkFBRCxFQUFxQjtBQUNwRCxJQUFBLFNBQVMsRUFBRSxJQUR5QztBQUVwRCxJQUFBLFFBQVEsRUFBRTtBQUYwQyxHQUFyQixDQUFqQztBQUtEOzs7QUNuVkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImxldCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1hZHYtY2FyZHMnKTtcclxuKGZ1bmN0aW9uKCl7XHJcbiAgbGV0IHN0YXRlID0ge1xyXG4gICAgdGhyZXNob2xkOiB7XHJcbiAgICAgIGJvdHRvbTogNTAsLy/QvdCwINC60LDQutC+0Lwg0YDQsNGB0YHRgtC+0Y/QvdC40Lgg0L7RgiDQvdC40LbQvdC10Lkg0LrRgNC+0LzQutC4INGF0L7RgtC40Lwg0YPQstC40LTQtdGC0YxcclxuICAgICAgdG9wOiA1MCxcclxuICAgICAgdHJhbnNsYXRlWTogcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGNhcmRzLmNoaWxkcmVuWzBdKS50cmFuc2Zvcm0uc3BsaXQoJywnKVs1XSksLy/QstC10YDQvdGD0YLRjCDQv9C+0LfQuNGG0LjRjiDRgdC00LLQuNCz0LBcclxuICAgIH0sXHJcbiAgICBkZWxheTogcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGNhcmRzLmNoaWxkcmVuWzBdKS50cmFuc2l0aW9uRHVyYXRpb24pLFxyXG4gICAgdG90YWw6IDAsXHJcbiAgICB2aXNpYmlsaXR5UmVhY3Q6IGZhbHNlXHJcbiAgfTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjaGVja2VkQ2FyZCk7XHJcbiAgXHJcbiAgZnVuY3Rpb24gY2hlY2tlZENhcmQoZXYpe1xyXG4gICAgWy4uLmNhcmRzLmNoaWxkcmVuXS5mb3JFYWNoKChjYXJkLCBpbngpID0+e1xyXG4gICAgXHJcbiAgICAgIHN0YXRlLnZpc2liaWxpdHlSZWFjdCA9IGNoZWNrVmlzaWJsZShjYXJkLCBzdGF0ZS50aHJlc2hvbGQpO1xyXG4gIFxyXG4gICAgICBpZighY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtLWFjdGl2ZScpICYmIHN0YXRlLnZpc2liaWxpdHlSZWFjdCl7XHJcbiAgICAgICAgc3RhdGUudG90YWwgKz0gc3RhdGUuZGVsYXkgLyAoaW54ICsgMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2FyZC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBzdGF0ZS50b3RhbC50b0ZpeGVkKDIpICsgJ3MnO1xyXG4gICAgICAgIGNhcmQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gKHN0YXRlLnRvdGFsIC8gMykudG9GaXhlZCgyKSArICdzJztcclxuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQtLWFjdGl2ZScpXHJcbiAgICAgIH0gIFxyXG4gICAgICBpZihjYXJkLmNsYXNzTGlzdC5jb250YWlucygnY2FyZC0tYWN0aXZlJykgJiYgIXN0YXRlLnZpc2liaWxpdHlSZWFjdCl7XHJcbiAgICAgICAgY29uc29sZS5kaXIoMjIpO1xyXG4gICAgICAgIHN0YXRlLnRvdGFsID0gMDtcclxuICAgICAgICBzdGF0ZS52aXNpYmlsaXR5UmVhY3QgPSBmYWxzZTtcclxuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmQtLWFjdGl2ZScpOyBcclxuICAgICAgfSAgIFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrVmlzaWJsZShlbCwgdGhyZXNob2xkID0ge2JvdHRvbTogMCwgdG9wOiAwLCB0cmFuc2xhdGVZOiAwfSl7XHJcbiAgICBsZXQgdG9wID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgbGV0IGJvdHRvbSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcclxuICAgXHJcbiAgICBpZigodG9wIC0gdGhyZXNob2xkLnRyYW5zbGF0ZVkgKyB0aHJlc2hvbGQuYm90dG9tKSAtIHdpbmRvdy5pbm5lckhlaWdodCA8PSAwIFxyXG4gICAgICAgIHx8IGJvdHRvbSArIHRocmVzaG9sZC5ib3R0b20gPCAwICl7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfWVsc2UgcmV0dXJuIGZhbHNlO1xyXG4gICAgIFxyXG4gIH1cclxuXHJcbn0pKClcclxuIiwiRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ291bnQgPSBmdW5jdGlvbiAobmFtZUNsYXNzID0gJycsICBtYXhDb3VudCA9IDUwMCwgb3B0aW9uID0geyB0YWc6ICcnLCBlbGVtZW50OiAnJyB9KXtcclxuXHJcbiAgbGV0IHRhZyA9IChvcHRpb24udGFnKSA/IG9wdGlvbi50YWcgOiAnc3Bhbic7XHJcbiAgdGhpcy5jb3VudENsYXNzTmFtZSA9IG5hbWVDbGFzcztcclxuICB0aGlzLm1heENvdW50ID0gbWF4Q291bnQ7XHJcblxyXG4gIHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlLnVwZGF0ZUNvdW50ID0gdXBkYXRlQ291bnQ7XHJcblxyXG4gIGxldCBlbCA9IGA8JHt0YWd9IGNsYXNzPSR7bmFtZUNsYXNzfSA+JHt0aGlzLnZhbHVlLmxlbmd0aH0vJHttYXhDb3VudH08LyR7dGFnfT5gO1xyXG4gIGlmKHR5cGVvZiBvcHRpb24uZWxlbWVudCA9PT0gJ29iamVjdCcpe1xyXG4gICAgb3B0aW9uLmVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIGVsKTtcclxuICAgIHRoaXMuY291bnRUYXJnZXQgPSBvcHRpb24uZWxlbWVudFxyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICB0aGlzLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBlbCk7XHJcbiAgXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUNvdW50KCkge1xyXG4gIGxldCBjb3VudFRhcmdldCA9ICh0aGlzLmNvdW50VGFyZ2V0KSA/IHRoaXMuY291bnRUYXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICBjb3VudFRhcmdldC50ZXh0Q29udGVudCA9IGAke3RoaXMudmFsdWUubGVuZ3RofS8ke3RoaXMubWF4Q291bnR9YDtcclxuICBcclxufVxyXG4iLCJsZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpO1xyXG5cclxuXHJcbmlmKGhlYWRlci5jbGllbnRXaWR0aCA8IDc2OCl7XHJcblxyXG4gIGxldCBidG5NZW51ID0gXHJcbiAgYFxyXG4gICAgPGRpdiBjbGFzcz1cImJ0bi1idXJnZXJcIj5cclxuICAgICAgPGkgY2xhc3M9XCJidG4tYnVyZ2VyX19pdGVtXCI+PC9pPlxyXG4gICAgICA8aSBjbGFzcz1cImJ0bi1idXJnZXJfX2l0ZW1cIj48L2k+XHJcbiAgICAgIDxpIGNsYXNzPVwiYnRuLWJ1cmdlcl9faXRlbVwiPjwvaT5cclxuICAgIDwvZGl2PlxyXG4gIGA7XHJcbiAgaGVhZGVyLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBidG5NZW51KTtcclxuICBsZXQgaGVhZGVyQnRuTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tYnVyZ2VyJyk7XHJcbiAgaGVhZGVyQnRuTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZU1lbnUpO1xyXG4gXHJcbn1cclxuZnVuY3Rpb24gdG9nZ2xlTWVudShldil7XHJcbiAgdGhpcy5wYXJlbnROb2RlLmNoaWxkcmVuWzBdLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9faXRlbXMtLWFjdGl2ZScpO1xyXG4gIHRoaXMucGFyZW50Tm9kZS5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItLWFjdGl2ZScpO1xyXG4gIFsuLi50aGlzLmNoaWxkcmVuXS5mb3JFYWNoKGJ1cmdlckl0ZW0gPT4ge1xyXG4gICAgYnVyZ2VySXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdidG4tYnVyZ2VyX19pdGVtLS1hY3RpdmUnKVxyXG4gIH0pO1xyXG4gIFxyXG59IiwiaW1wb3J0IHJ1blNsaWRlcnMgZnJvbSAnLi9zbGlkZXInO1xyXG5cclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7XHJcbiAgcnVuU2xpZGVycygpO1xyXG59XHJcblxyXG4iLCJsZXQgaW1hZ2VJc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5zdF9fc2xpZGVyLWl0ZW0nKTtcclxubGV0IGltZ09wdGlvbiA9IHsgXHJcbiAgcm9vdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluc3RfX3NsaWRlcnMnKSwvKiDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0L/RgNC10LTQutC+0LwuINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINC+0LrQvdC+INCx0YDQsNGD0LfQtdGA0LAgKi9cclxuICByb290TWFyZ2luOiAnMHB4IDUwMHB4IDBweCAwcHgnLCAvKtCe0YLRgdGC0YPQv9GLINCy0L7QutGA0YPQsyByb290LiAgKi9cclxuICB0aHJlc2hvbGQ6IC4wNS8qINGH0LjRgdC70L4g0L7RgiAwLTEuINGN0YLQviDQvdCw0YHQutC+0LvRjNC60L4g0L/RgNC+0YbQtdC90YLQvtCyINC00L7Qu9C20LXQvSDQsdGL0YLRjCDQstC40LTQtdC+INC+0LHRitC10LrRgiDQv9GA0Lgg0LrQvtGC0L7RgNC+0LxcclxuICAvLyAgICAgICAgICAgICAgICAgINC00L7Qu9C20L3QsCDQvtGC0YDQsNCx0L7RgtCw0YLRjCBjYWxsYmFjayDRhNGD0L3QutGG0LjRjy4g0JzQvtC20L3QviDQtNCw0LYg0LzQsNGB0YHQuNCyINC/0LXRgNC10LTQsNGC0YwuIFswLCAwLjI1LCAwLjUsIDAuNzUsIDFdICovXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbn07XHJcblxyXG5cclxuY29uc3QgaW1nT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMsIGltZ09ic2VydmVyKSA9PiB7XHJcbiAgZW50cmllcy5mb3JFYWNoKCh7IHRhcmdldCwgaXNJbnRlcnNlY3RpbmcgfSkgPT4ge1xyXG4gICAgaWYoIWlzSW50ZXJzZWN0aW5nKXsvKtGN0LvQtdC80LXQvdGC0Ysg0L3QtSDQv9C10YDQtdGB0LXQutCw0Y7RgiDQs9GA0LDQvdC40YbRgy4gZmFsc2UgKi9cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGFyZ2V0LnNyYyA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKTtcclxuICAgIGltZ09ic2VydmVyLnVub2JzZXJ2ZSh0YXJnZXQpXHJcbiAgfSlcclxufSwgaW1nT3B0aW9uKTtcclxuXHJcblxyXG5pbWFnZUlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gIGltZ09ic2VydmVyLm9ic2VydmUoaXRlbSk7XHJcbn0pOyIsIlxyXG5leHBvcnQgZnVuY3Rpb24gcG9wdXAocG9wdXBFbCwgYnRuT3Blbiwgb3B0aW9uID0ge25vQmxvY2tFbDogJycsIHNjcm9sbE9mZjogZmFsc2UsIG9wZW5lZDogJycsIGNsb3Npbmc6ICcnfSl7XHJcblxyXG4gIGxldCBjbG9zZSA9IHBvcHVwRWwucXVlcnlTZWxlY3RvcihgIyR7cG9wdXBFbC5pZH0tY2xvc2VgKTtcclxuICBsZXQgc2F2ZVNjcm9sbFRvVGhlT3BlbjtcclxuICBcclxuICBidG5PcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblByaWNlKTtcclxuICBwb3B1cEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQcmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIG9wZW5QcmljZShldikge1xyXG4gICAgcG9wdXBFbC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7IFxyXG4gIFxyXG4gICAgc2F2ZVNjcm9sbFRvVGhlT3BlbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgbG9ja1Njcm9sbCgpO1xyXG4gICAgaWYodHlwZW9mIG9wdGlvbi5vcGVuZWQgPT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgIG9wdGlvbi5vcGVuZWQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xvc2VQcmljZShldikge1xyXG5cclxuICAgIGlmKGV2LnRhcmdldCA9PSBwb3B1cEVsIHx8IGV2LnRhcmdldCA9PSBjbG9zZSl7XHJcbiAgIFxyXG4gICAgICBwb3B1cEVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgXHJcbiAgICAgIHVubG9ja1Njcm9sbCgpXHJcbiAgICAgIGlmKHR5cGVvZiBvcHRpb24uY2xvc2luZyA9PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICBvcHRpb24uY2xvc2luZygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4vKiMjIyMjIyMtLS0tLS0tLS08eyBDb250cm9sIFNjcm9sbH0+LS0tLS0tLS0tIyMjIyMjIyMjIyovXHJcbiAgZnVuY3Rpb24gbG9ja1Njcm9sbCgpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGV2V2hlZWwsIHsgcGFzc2l2ZTogZmFsc2UgfSlcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBldlNjcm9sbCkgXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1bmxvY2tTY3JvbGwoKSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBldldoZWVsLCB7IHBhc3NpdmU6IGZhbHNlIH0pXHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZXZTY3JvbGwpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBldldoZWVsKGV2KSB7XHJcbiAgICBpZih0eXBlb2Ygb3B0aW9uLm5vQmxvY2tFbCA9PSAnb2JqZWN0Jyl7XHJcbiAgICAgIGlmKCFvcHRpb24ubm9CbG9ja0VsLmNvbnRhaW5zKGV2LnRhcmdldCkpe1xyXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7IHJldHVybjsgXHJcbiAgICAgIH1cclxuICAgIH1lbHNlIGlmKG9wdGlvbi5zY3JvbGxPZmYpe1xyXG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm47IFxyXG4gICAgfVxyXG4gICAgY29uc29sZS5kaXIoXCJldldoZWVsXCIpO1xyXG4gICAgdGhpcy5zY3JvbGxUbygwLCBzYXZlU2Nyb2xsVG9UaGVPcGVuKTtcclxuICB9IFxyXG5cclxuICBmdW5jdGlvbiBldlNjcm9sbChldikge1xyXG4gICAgY29uc29sZS5kaXIoXCJldlNjcm9sbFwiKTtcclxuICAgIHRoaXMuc2Nyb2xsVG8oMCwgc2F2ZVNjcm9sbFRvVGhlT3BlbilcclxuICB9IFxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gZnVuY3Rpb24gcG9wdXAocG9wdXBFbCwgYnRuT3Blbiwgb3B0aW9uID0ge25vQmxvY2tFbDogbnVsbCwgb3BlbmVkOiBudWxsfSl7XHJcblxyXG4vLyAgIGxldCBjbG9zZSA9IHBvcHVwRWwucXVlcnlTZWxlY3RvcihgLiR7cG9wdXBFbC5jbGFzc05hbWV9X19jbG9zZWApO1xyXG4vLyAgIGxldCBzYXZlU2Nyb2xsVG9UaGVPcGVuO1xyXG5cclxuLy8gICBidG5PcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblByaWNlKTtcclxuLy8gICBwb3B1cEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQcmljZSk7XHJcblxyXG4vLyAgIGZ1bmN0aW9uIG9wZW5QcmljZShldikge1xyXG4vLyAgICAgcG9wdXBFbC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7IFxyXG4vLyAgICAgc2F2ZVNjcm9sbFRvVGhlT3BlbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG4vLyAgICAgbG9ja1Njcm9sbCgpO1xyXG4vLyAgICAgaWYodHlwZW9mIG9wdGlvbi5vcGVuZWQgPT0gJ2Z1bmN0aW9uJyl7XHJcbi8vICAgICAgIG9wdGlvbi5vcGVuZWQoKVxyXG4vLyAgICAgfVxyXG4gICBcclxuLy8gICB9XHJcblxyXG4vLyAgIGZ1bmN0aW9uIGNsb3NlUHJpY2UoZXYpIHtcclxuLy8gICAgIGlmKGV2LnRhcmdldCA9PSBwb3B1cCB8fCBldi50YXJnZXQgPT0gY2xvc2Upe1xyXG4vLyAgICAgICBwb3B1cEVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgXHJcbi8vICAgICAgIHVubG9ja1Njcm9sbCgpXHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG5cclxuXHJcbi8vICAgZnVuY3Rpb24gbG9ja1Njcm9sbCgpIHtcclxuLy8gICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGV2V2hlZWwsIHsgcGFzc2l2ZTogZmFsc2UgfSlcclxuLy8gICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBldlNjcm9sbCkgXHJcbi8vICAgfVxyXG5cclxuLy8gICBmdW5jdGlvbiB1bmxvY2tTY3JvbGwoKSB7XHJcbi8vICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBldldoZWVsLCB7IHBhc3NpdmU6IGZhbHNlIH0pXHJcbi8vICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZXZTY3JvbGwpXHJcbi8vICAgfVxyXG5cclxuLy8gICBmdW5jdGlvbiBldldoZWVsKGV2KSB7XHJcbi8vICAgICBpZih0eXBlb2Ygb3B0aW9uLm5vQmxvY2tFbCA9PSAnb2JqZWN0Jyl7XHJcbi8vICAgICAgIGlmKCFvcHRpb24ubm9CbG9ja0VsLmNvbnRhaW5zKGV2LnRhcmdldCkpe1xyXG4vLyAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7IHJldHVybjsgXHJcbi8vICAgICAgIH1cclxuLy8gICAgIH1cclxuICBcclxuLy8gICAgIHRoaXMuc2Nyb2xsVG8oMCwgc2F2ZVNjcm9sbFRvVGhlT3Blbik7XHJcbi8vICAgfSBcclxuXHJcbi8vICAgZnVuY3Rpb24gZXZTY3JvbGwoZXYpIHtcclxuLy8gICAgIHRoaXMuc2Nyb2xsVG8oMCwgc2F2ZVNjcm9sbFRvVGhlT3BlbilcclxuLy8gICB9IFxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiDQmtC90L7Qv9C60LAg0LHRg9C00LXRgiDQstGL0LfRi9Cy0LDRgtGMINC00LDQvdC90YPRjiDRhNGD0L3QutGG0LjRjiAqLyIsImV4cG9ydCBmdW5jdGlvbiBwcmVsb2FkZXJUYWJsZSgpe1xyXG4gIHJldHVybiBgPGRpdiBpZD1cInByZWxvYWRlclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibG9hZGVyXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5gO1xyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBwcmVsb2FkZXJUYWJsZSB9IGZyb20gJy4vcHJlbG9hZGVyJztcclxuaW1wb3J0IHsgcG9wdXAgfSBmcm9tICcuL3BvcHVwJztcclxuaW1wb3J0IHsgcHJvdG9jb2wsIGhvc3QsIHBvcnQgfSBmcm9tICcuLi8uLi8uLi9jb25maWcvY29uZmlnLmpzb24nO1xyXG5cclxubGV0IHByaWNlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLXBvcHVwLXBsLW9wZW4nKTtcclxubGV0IHByaWNlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1wb3B1cC1wbCcpO1xyXG5sZXQgcHJpY2VUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1wLXRhYmxlJyk7XHJcbmxldCB0YWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanMtcC10YWJsZUJvZHknKTtcclxuXHJcbnBvcHVwKHByaWNlTGlzdCwgcHJpY2VCdG4sIHtub0Jsb2NrRWw6IHByaWNlVGFibGUsIG9wZW5lZDogYWpheFJlcXVlc3RUYWJsZX0pXHJcblxyXG5cclxuLyojIyMjIyMjIy0tLS0tLS0tLTx7IE1haW4gRnVuY3Rpb24gfT4tLS0tLS0tLS0jIyMjIyMjIyMqL1xyXG5cclxuZnVuY3Rpb24gYWpheFJlcXVlc3RUYWJsZSgpe1xyXG4gIGlmKCF0YWJsZUJvZHkuY2hpbGRyZW4ubGVuZ3RoKXtcclxuICAgIHRhYmxlQm9keS5pbm5lckhUTUwgPSBwcmVsb2FkZXJUYWJsZSgpO1xyXG4gICAgZmV0Y2goYCR7cHJvdG9jb2x9Oi8vJHtob3N0fSR7cG9ydH0vdGFibGVgKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IGRhdGEuanNvbigpKVxyXG4gICAgLnRoZW4oKGRhdGEpPT57XHJcbiAgICAgIHRhYmxlQm9keS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgcmVuZGVyVGFibGUoZGF0YSk7XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCkgPT57XHJcbiAgICAgIGhhbmdUaGVGdW5jdGlvbmFsaXR5KCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgdGFibGVCb2R5LnRleHRDb250ZW50ID0gZXJyO1xyXG4gICAgfSlcclxuICB9ZWxzZSBjb25zb2xlLmRpcign0JTQsNC90L3Ri9C1INGD0LbQtSDQt9Cw0LPRgNGD0LbQtdC90YsnKTsgXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8qIyMjIyMjIy0tLS0tLTx7IHJlbmRlclRhYmxlIGFuZCBoYW5nVGhlRnVuY3Rpb25hbGl0eSB9Pi0tLS0tLS0tIyMjIyMjIyovXHJcblxyXG5mdW5jdGlvbiByZW5kZXJUYWJsZShkYXRhKXtcclxuICBmb3IgKGNvbnN0IGFyclRhYmxlcyBvZiBkYXRhKSB7XHJcbiAgICBjb25zb2xlLmRpcihhcnJUYWJsZXMpO1xyXG4gICAgaWYoTnVtYmVyKGFyclRhYmxlcy5pZCkgPT09IDEpIHsgIFxyXG4gICAgICB0YWJsZUJvZHkuaW5uZXJIVE1MICs9ICBcclxuICAgICAgYDx0ciBjbGFzcz1cInByaWNlLWxpc3RfX3Jvdy1oZWFkLXRpdGxlXCIgPlxyXG4gICAgICAgIDx0aCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGwtaGVhZC10aXRsZVwiIGNvbHNwYW49XCI0XCI+JHthcnJUYWJsZXMuc2VydmljZXN9PC90aD5cclxuICAgICAgPC90cj5cclxuICAgICAgICA8dHIgY2xhc3M9XCJwcmljZS1saXN0X19yb3ctaW5mb1wiID5cclxuICAgICAgICAgIDx0ZCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGwtaW5mb1wiPtCd0LDQuNC80LXQvdC+0LLQsNC90LjQtTwvdGQ+XHJcbiAgICAgICAgICA8dGQgY2xhc3M9XCJwcmljZS1saXN0X19jZWxsLWluZm9cIj7QldC0LtC40LfQvC48L3RkPlxyXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHJpY2UtbGlzdF9fY2VsbC1pbmZvXCI+0KbQtdC90LAo0YDRg9CxLik8L3RkPlxyXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHJpY2UtbGlzdF9fY2VsbC1pbmZvXCI+0JrQvtC7LdCy0L48L3RkPlxyXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHJpY2UtbGlzdF9fY2VsbC1pbmZvXCI+0KHRg9C80LzQsDwvdGQ+XHJcbiAgICAgICAgPC90cj5gO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICB0YWJsZUJvZHkuaW5uZXJIVE1MICs9ICBcclxuICAgIGA8dHIgY2xhc3M9XCJwcmljZS1saXN0X19yb3dcIj5cclxuICAgICAgICA8dGQgY2xhc3M9XCJwcmljZS1saXN0X19jZWxsXCI+JHthcnJUYWJsZXMuc2VydmljZXN9PC90ZD5cclxuICAgICAgICA8dGQgY2xhc3M9XCJwcmljZS1saXN0X19jZWxsXCI+JHthcnJUYWJsZXMudW5pdH08L3RkPlxyXG4gICAgICAgIDx0ZCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGwganMtcC1ydWJcIj4ke2FyclRhYmxlcy5wcmljZX08L3RkPlxyXG4gICAgICAgIDx0ZCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGxcIj5cclxuICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInByaWNlLWxpc3RfX2lucHV0IGpzLXAtaW5wdXRcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJkYXRhQ2VsbFwiPlxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICAgICAgPHRkIGNsYXNzPVwicHJpY2UtbGlzdF9fY2VsbCBqcy1wLXN1bVwiPjA8L3RkPlxyXG4gICAgICA8L3RyPmA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5nVGhlRnVuY3Rpb25hbGl0eSgpe1xyXG4gIGxldCBwcmljZVJ1Ymxlc0NlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcC1ydWInKTtcclxuICBsZXQgcHJpY2VJbnB1dENlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXAtaW5wdXQnKTtcclxuICBsZXQgcHJpY2VTdW1DZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXAtc3VtJyk7XHJcbiAgbGV0IHByaWNlUmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLXAtcmVzdWx0Jyk7XHJcbiAgbGV0IGFyck51bWJlcnMgPSBbXTtcclxuICBcclxuICBwcmljZUlucHV0Q2VsbHMuZm9yRWFjaCgoaXRlbSwgaW54KSA9PiB7XHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgY2hhbmdlSW5wdXQuYmluZChpdGVtLCBpbngpKTtcclxuICB9KTtcclxuICBcclxuICBmdW5jdGlvbiBjaGFuZ2VJbnB1dChpbngsIGV2KSB7XHJcbiAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpOy8vYmxvY2tpbmcgY2hhcmFjdGVyIGlucHV0XHJcbiAgICAvL9C30LDQv9C10YDQu9C4IGlueCDQsiDQt9Cw0LzRi9C60LDQvdC40Lgg0L/RgNC40LLRj9C30LDQsiBpbnB1dCDQuiDQuNC90LTQtdC60YHQsNC8INC80LDRgdGB0LjQstCwLlxyXG4gICAgcHJpY2VTdW1DZWxsW2lueF0udGV4dENvbnRlbnQgPSBhcnJOdW1iZXJzW2lueF0gPSBnZXRTdW1JbnB1dHModGhpcy52YWx1ZSwgaW54KTtcclxuICAgIHByaWNlUmVzdWx0LnRleHRDb250ZW50ID0gZ2V0UmVzdWx0KGFyck51bWJlcnMpO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZXRTdW1JbnB1dHModmFsLCBpbngpe1xyXG4gICAgcmV0dXJuICtwcmljZVJ1Ymxlc0NlbGxbaW54XS50ZXh0Q29udGVudCAqICt2YWxcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2V0UmVzdWx0KGFycil7XHJcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgocHJldiwgbnVtKSA9PiAocHJldiArPSArbnVtKSwgMCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuIiwibGV0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1tLW5hbWUnKTtcclxubGV0IGlucHV0UGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanMtbS1waG9uZScpO1xyXG5sZXQgdGV4dEFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanMtbS10ZXh0YXJlYScpO1xyXG5cclxubGV0IHN0YXRlID0ge1xyXG4gIFtpbnB1dE5hbWUubmFtZV06IHsgbWluOiAyLCBtYXg6IDE1LCBzdGF0dXM6IGZhbHNlLCBsZW5ndGg6IDAsIHZhbHVlOiAnJyB9LFxyXG4gIFtpbnB1dFBob25lLm5hbWVdOiB7IG1pbjogMTgsIG1heDogMTgsIHN0YXR1czogZmFsc2UsIGxlbmd0aDogMCwgdmFsdWU6ICcnIH0sXHJcbiAgW3RleHRBcmVhLm5hbWVdOiB7IG1pbjogMTAsIG1heDogNDAwLCBzdGF0dXM6IGZhbHNlLCBsZW5ndGg6IDAsIHZhbHVlOiAnJyB9LFxyXG59O1xyXG5cclxuW2lucHV0TmFtZSwgaW5wdXRQaG9uZSwgdGV4dEFyZWFdLmZvckVhY2goKGl0ZW0pID0+IHsgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGNoZWNrSW5BbGwpIH0pO1xyXG5cclxudGV4dEFyZWEuY3JlYXRlQ291bnQoJ21haWwtcG9wdXBfX2Zvcm0tY291bnQnLCBzdGF0ZVt0ZXh0QXJlYS5uYW1lXS5tYXgsIHsgZWxlbWVudDogdGV4dEFyZWEucGFyZW50RWxlbWVudCB9KVxyXG5cclxuZnVuY3Rpb24gY2hlY2tJbkFsbChldil7XHJcbiAgZXYucHJldmVudERlZmF1bHQoKTtcclxuIFxyXG4gIGlmKHRoaXMgPT09IGlucHV0TmFtZSB8fCB0aGlzID09PSB0ZXh0QXJlYSl7XHJcbiAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bJTw+Jl18KHNjcmlwdCkvZywgJycpO1xyXG5cclxuICAgIGlmKHRoaXMgPT09IHRleHRBcmVhKSB0aGlzLnVwZGF0ZUNvdW50KCk7XHJcbiAgfVxyXG5cclxuICBpZih0aGlzID09IGlucHV0UGhvbmUpIG1hc2tJbnB1dCh0aGlzLCBldik7XHJcbiAgbWF4TWluKHRoaXMpO1xyXG4gIFxyXG59XHJcblxyXG5mdW5jdGlvbiBtYXhNaW4oZWwpe1xyXG5cclxuICBsZXQgc3RhdGVJdGVtID0gc3RhdGVbZWwubmFtZV07XHJcblxyXG4gIGlmKGVsLnZhbHVlLmxlbmd0aCA+PSBzdGF0ZUl0ZW0ubWluICYmIHN0YXRlSXRlbS5sZW5ndGggPD0gc3RhdGVJdGVtLm1heCl7XHJcbiAgICBzdGF0ZUl0ZW0uc3RhdHVzID0gdHJ1ZTtcclxuICAgIGVsLnN0eWxlLmFuaW1hdGlvbk5hbWUgPSAnZ2xvd0lucHV0U3VjY2Vzcyc7XHJcbiAgICBcclxuICB9ZWxzZXtcclxuICAgIHN0YXRlSXRlbS5zdGF0dXMgPSBmYWxzZTtcclxuICAgIGVsLnN0eWxlLmFuaW1hdGlvbk5hbWUgPSAnZ2xvd0lucHV0RXJyb3InO1xyXG4gIH1cclxuICBpZihlbC52YWx1ZS5sZW5ndGggPiBzdGF0ZUl0ZW0ubWF4KXtcclxuICAgIGVsLnZhbHVlID0gZWwudmFsdWUuc2xpY2UoMCwgc3RhdGVJdGVtLm1heCk7XHJcbiAgfWVsc2V7XHJcbiAgICBzdGF0ZUl0ZW0ubGVuZ3RoID0gZWwudmFsdWUubGVuZ3RoO1xyXG4gICAgc3RhdGVJdGVtLnZhbHVlID0gZWwudmFsdWU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYXNrSW5wdXQoZWwsIGV2KSB7XHJcbiAgbGV0IGlucHV0ID0gZWw7XHJcbiAgbGV0IG1hc2sgPSBpbnB1dC5kYXRhc2V0Lm1hc2s7XHJcbiAgbGV0IHZhbHVlID0gaW5wdXQudmFsdWU7XHJcbiAgbGV0IGxpdGVyYWxQYXR0ZXJuID0gL1swXFwqXS87XHJcbiAgbGV0IG51bWJlclBhdHRlcm4gPSAvWzAtOV0vZ2k7Ly8rNyAoMDAwKSAwMDAtMDAtMDAvL1xcKzdcXHNcXCg5XFxkezJ9XFwpXFxzXFxkezN9LVxcZHsyfS1cXGR7Mn1cclxuICBsZXQgbmV3VmFsdWUgPSBcIlwiO1xyXG4gIGlmKC9cXEQvLnRlc3QoZXYuZGF0YSkpe1xyXG4gICAgXHJcbiAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnJlcGxhY2UoZXYuZGF0YSwgJycpOyBcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGxldCBtYXNrTGVuZ3RoID0gbWFzay5sZW5ndGg7XHJcbiAgICBsZXQgdmFsdWVJbmRleCA9IDA7XHJcbiAgICBsZXQgbWFza0luZGV4ID0gMDtcclxuIFxyXG4gICAgZm9yICg7IG1hc2tJbmRleCA8IG1hc2tMZW5ndGg7KSB7XHJcbiAgICAgIGlmIChtYXNrSW5kZXggPj0gdmFsdWUubGVuZ3RoKSBicmVhaztcclxuICAgICAgXHJcbiAgICAgIGlmIChtYXNrW21hc2tJbmRleF0gPT09IFwiMFwiICYmIHZhbHVlW3ZhbHVlSW5kZXhdLm1hdGNoKG51bWJlclBhdHRlcm4pID09PSBudWxsKSBicmVhaztcclxuXHJcbiAgICAgIC8vIEZvdW5kIGEgbGl0ZXJhbFxyXG4gICAgICB3aGlsZSAobWFza1ttYXNrSW5kZXhdLm1hdGNoKGxpdGVyYWxQYXR0ZXJuKSA9PT0gbnVsbCkge1xyXG4gICAgICAgIGlmICh2YWx1ZVt2YWx1ZUluZGV4XSA9PT0gbWFza1ttYXNrSW5kZXhdKSBicmVhaztcclxuICAgICAgICBuZXdWYWx1ZSArPSBtYXNrW21hc2tJbmRleCsrXTtcclxuICAgICAgfVxyXG4gICAgICBuZXdWYWx1ZSArPSB2YWx1ZVt2YWx1ZUluZGV4KytdO1xyXG4gICAgICBtYXNrSW5kZXgrKztcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IHN0YXRlIH07XHJcblxyXG4vL15bK1xcZF0qWyhdXFxkezN9WyldXFxkezN9LVxcZHsyfS1cXGR7Mn0vZyIsImltcG9ydCB7IHBvcHVwIH0gZnJvbSAnLi4vcG9wdXAnO1xyXG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJy4vY2hlY2staW4nO1xyXG5pbXBvcnQgeyBwcm90b2NvbCwgaG9zdCwgcG9ydCB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbmZpZy9jb25maWcuanNvbic7XHJcblxyXG5sZXQgcG9wdXBNYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLXBvcHVwLW1haWwnKTtcclxubGV0IHBvcHVwT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1wb3B1cC1tYWlsLW9wZW4nKTtcclxubGV0IG1haWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLW0tZm9ybScpXHJcblxyXG5wb3B1cChwb3B1cE1haWwsIHBvcHVwT3Blbiwge3Njcm9sbE9mZjogdHJ1ZSwgY2xvc2luZzogcmVzZXRGb3JtfSk7XHJcblxyXG5tYWlsRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBzZW5kTWFpbCk7XHJcblxyXG5mdW5jdGlvbiBzZW5kTWFpbChldil7XHJcbiAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zb2xlLmRpcihzdGF0ZSk7XHJcbiAgaWYoIU9iamVjdC52YWx1ZXMoc3RhdGUpLmV2ZXJ5KChpdGVtKSA9PiBpdGVtLnN0YXR1cykpeyByZXR1cm47IH1cclxuICAgXHJcbiAgY29uc29sZS5kaXIoJ9GD0YHQv9C10YUnKTtcclxuXHJcbiAgZmV0Y2goYCR7cHJvdG9jb2x9Oi8vJHtob3N0fSR7cG9ydH0vbWFpbGAsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgYm9keTogbmV3IEZvcm1EYXRhKHRoaXMpXHJcbiAgfSlcclxuICAudGhlbigoZGF0YSkgPT4gZGF0YS5qc29uKCkpXHJcbiAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIHN1Y2Nlc3MoSlNPTi5zdHJpbmdpZnkoZGF0YSkpXHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5kaXIoZXJyKTtcclxuICB9KVxyXG5cclxufVxyXG5cclxubGV0IG1zZyA9IGA8ZGl2IGNsYXNzPVwibWFpbC1wb3B1cF9fZm9ybS1zdWNjZXNzLW1zZ1wiPtCf0LjRgdGM0LzQviDQtNC+0YHRgtCw0LLQu9C10L3QvjwvZGl2PmA7XHJcblxyXG5mdW5jdGlvbiBzdWNjZXNzKGRhdGEpe1xyXG4gIGNvbnNvbGUuaW5mbyhkYXRhKTtcclxuICBtYWlsRm9ybS5jbGFzc0xpc3QuYWRkKCdtYWlsLXBvcHVwX19mb3JtLS1zdWNjZXNzJyk7XHJcbiAgbGV0IHRpbWluZyA9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZShtYWlsRm9ybSkudHJhbnNpdGlvbkR1cmF0aW9uKTtcclxuXHJcbiAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgbWFpbEZvcm0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIG1zZykvL0pTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgfSwgdGltaW5nICogMTAwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0Rm9ybSgpe1xyXG4gIGxldCBlbFN1Y2Nlc3NNc2cgPSBtYWlsRm9ybS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgaWYoZWxTdWNjZXNzTXNnICYmIGVsU3VjY2Vzc01zZy5tYXRjaGVzKCcubWFpbC1wb3B1cF9fZm9ybS1zdWNjZXNzLW1zZycpKXtcclxuICAgIG1haWxGb3JtLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxTdWNjZXNzTXNnKTtcclxuICAgIG1haWxGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ21haWwtcG9wdXBfX2Zvcm0tLXN1Y2Nlc3MnKTtcclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBtYWlsRm9ybS5sZW5ndGggLSAxOyBpKyspe1xyXG4gICAgICBtYWlsRm9ybVtpXS52YWx1ZSA9ICcnO1xyXG4gICAgICBpZihtYWlsRm9ybVtpXS51cGRhdGVDb3VudCl7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCfQodGH0ZHRgtGH0LjQuiDQodCx0YDQvtGI0LXQvScpO1xyXG4gICAgICAgIG1haWxGb3JtW2ldLnVwZGF0ZUNvdW50KCk7XHJcbiAgICAgIH1cclxuICAgICBcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gZXJyKGRhdGEpe1xyXG4gIG1haWxGb3JtLmNsYXNzTGlzdC50b2dnbGUoJ21haWwtcG9wdXBfX2Zvcm0tLWVycm9yJyk7XHJcbiAgbGV0IHRpbWluZyA9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZShtYWlsRm9ybSkudHJhbnNpdGlvbkR1cmF0aW9uKTtcclxuICBjb25zb2xlLmRpcih0aW1pbmcpO1xyXG4gIHNldFRpbWVvdXQoKCk9PntcclxuICAgIG1haWxGb3JtLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBtc2cpLy9KU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gIH0sIHRpbWluZyAqIDEwMDApO1xyXG59XHJcblxyXG5cclxuXHJcbiIsIid1c2Ugc3RyaWN0JztcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKXtcclxuXHJcbnZhciBtdWx0aUl0ZW1TbGlkZXIgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIEVsZW1lbnQucHJvdG90eXBlLmNfcXVlcnlTZWxlY3RvciA9IGZ1bmN0aW9uIChzZWxlY3RPclJlZ0V4cCwgZmxhZyA9IGZhbHNlKXtcclxuICAgIFxyXG4gICAgICBpZihzZWxlY3RPclJlZ0V4cC5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciAmJiBmbGFnKXtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuY2hpbGRyZW5dLmZpbmQoKGl0ZW0pID0+IHNlbGVjdE9yUmVnRXhwLnRlc3QoaXRlbS5jbGFzc05hbWUpKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvcihzZWxlY3RPclJlZ0V4cCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgRWxlbWVudC5wcm90b3R5cGUuY19xdWVyeVNlbGVjdG9yQWxsID0gZnVuY3Rpb24gKHNlbGVjdE9yUmVnRXhwLCBmbGFnID0gZmFsc2Upe1xyXG4gIFxyXG4gICAgICBpZihzZWxlY3RPclJlZ0V4cC5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciAmJiBmbGFnKXtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuY2hpbGRyZW5dLmZpbHRlcigoaXRlbSkgPT4gc2VsZWN0T3JSZWdFeHAudGVzdChpdGVtLmNsYXNzTmFtZSkpO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdE9yUmVnRXhwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9pc0VsZW1lbnRWaXNpYmxlKGVsZW1lbnQpIHtcclxuICAgICAgLy8g0LLQvtC30LzQvtC20L3QviDQv9C+0YLRgNC10LHRg9C10YLRgdGPINGD0YHRgtCw0L3QvtCy0LjRgtGMINGN0LvQtdC80LXQvdGC0YMgei1pbmRleDowXHJcbiAgICAgIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuICAgICAgICB2V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLFxyXG4gICAgICAgIHZIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXHJcbiAgICAgICAgZWxlbUZyb21Qb2ludCA9IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHgsIHkpIH07XHJcbiAgICAgIGlmIChyZWN0LnJpZ2h0IDwgMCB8fCByZWN0LmJvdHRvbSA8IDBcclxuICAgICAgICB8fCByZWN0LmxlZnQgPiB2V2lkdGggfHwgcmVjdC50b3AgPiB2SGVpZ2h0KVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICBlbGVtZW50LmNvbnRhaW5zKGVsZW1Gcm9tUG9pbnQocmVjdC5sZWZ0LCByZWN0LnRvcCkpXHJcbiAgICAgICAgfHwgZWxlbWVudC5jb250YWlucyhlbGVtRnJvbVBvaW50KHJlY3QucmlnaHQsIHJlY3QudG9wKSlcclxuICAgICAgICB8fCBlbGVtZW50LmNvbnRhaW5zKGVsZW1Gcm9tUG9pbnQocmVjdC5yaWdodCwgcmVjdC5ib3R0b20pKVxyXG4gICAgICAgIHx8IGVsZW1lbnQuY29udGFpbnMoZWxlbUZyb21Qb2ludChyZWN0LmxlZnQsIHJlY3QuYm90dG9tKSlcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb25maWcpIHsgXHJcbiAgICAgIHZhclxyXG4gICAgICAgIF9tYWluRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxyXG4gICAgICAgIF9zbGlkZXJXcmFwcGVyID0gX21haW5FbGVtZW50LmNfcXVlcnlTZWxlY3RvcigvLitpdGVtcy8sIHRydWUpLFxyXG4gICAgICAgIF9zbGlkZXJJdGVtcyA9IF9zbGlkZXJXcmFwcGVyLmNfcXVlcnlTZWxlY3RvckFsbCgvLitpdGVtLywgdHJ1ZSksXHJcbiAgICAgICAgX3NsaWRlckNvbnRyb2xzID0gX21haW5FbGVtZW50LmNfcXVlcnlTZWxlY3RvckFsbCgvLitjb250cm9sLywgdHJ1ZSksXHJcbiAgICAgICAgX3NsaWRlckNvbnRyb2xMZWZ0ID0gX21haW5FbGVtZW50LmNfcXVlcnlTZWxlY3RvcigvLitjb250cm9sX2xlZnQvLCB0cnVlKSxcclxuICAgICAgICBfc2xpZGVyQ29udHJvbFJpZ2h0ID0gX21haW5FbGVtZW50LmNfcXVlcnlTZWxlY3RvcigvLitjb250cm9sX3JpZ2h0LywgdHJ1ZSksXHJcblxyXG4gICAgICAgIF93cmFwcGVyV2lkdGggPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoX3NsaWRlcldyYXBwZXIpLndpZHRoKSxcclxuICAgICAgICBfaXRlbVdpZHRoID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKF9zbGlkZXJJdGVtc1swXSkud2lkdGgpLFxyXG4gICAgICAgIF9odG1sID0gX21haW5FbGVtZW50LmlubmVySFRNTDtcclxuICAgICAgXHJcbiAgICAgIGxldFxyXG4gICAgICAgIF9pbmRleEluZGljYXRvciA9IDAsXHJcbiAgICAgICAgX21heEluZGV4SW5kaWNhdG9yID0gX3NsaWRlckl0ZW1zLmxlbmd0aCAtIDEsXHJcbiAgICAgICAgX2luZGljYXRvckl0ZW1zLFxyXG4gICAgICAgIFxyXG4gICAgICAgIF9wb3NpdGlvbkxlZnRJdGVtID0gMCxcclxuICAgICAgICBfdHJhbnNmb3JtID0gMCxcclxuICAgICAgICBfc3RlcCA9IF9pdGVtV2lkdGggLyBfd3JhcHBlcldpZHRoICogMTAwLFxyXG4gICAgICAgIF9pdGVtcyA9IFtdLFxyXG4gICAgICAgIF9pbnRlcnZhbCA9IDAsXHJcbiAgICAgICAgX3N0YXRlcyA9IFtcclxuICAgICAgICAgIHsgYWN0aXZlOiBmYWxzZSwgbWluV2lkdGg6IDAsIGNvdW50OiAxIH0sXHJcbiAgICAgICAgICB7IGFjdGl2ZTogZmFsc2UsIG1pbldpZHRoOiA1NzYsIGNvdW50OiAyIH0sXHJcbiAgICAgICAgICB7IGFjdGl2ZTogZmFsc2UsIG1pbldpZHRoOiA5OTIsIGNvdW50OiAzIH0sXHJcbiAgICAgICAgICB7IGFjdGl2ZTogZmFsc2UsIG1pbldpZHRoOiAxMjAwLCBjb3VudDogNCB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgX2NvbmZpZyA9IHtcclxuICAgICAgICAgIGlzQ3ljbGluZzogZmFsc2UsXHJcbiAgICAgICAgICBkaXJlY3Rpb246ICdyaWdodCcsXHJcbiAgICAgICAgICBpbnRlcnZhbDogNTAwMCxcclxuICAgICAgICAgIHBhdXNlOiB0cnVlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIGZvciAodmFyIGtleSBpbiBjb25maWcpIHtcclxuICAgICAgICBpZiAoa2V5IGluIF9jb25maWcpIHtcclxuICAgICAgICAgIF9jb25maWdba2V5XSA9IGNvbmZpZ1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgX3NsaWRlckl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgX2l0ZW1zLnB1c2goeyBpdGVtOiBpdGVtLCBwb3NpdGlvbjogaW5kZXgsIHRyYW5zZm9ybTogMCB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2YXIgX3NldEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2luZGV4ID0gMDtcclxuICAgICAgICB2YXIgd2lkdGggPSBwYXJzZUZsb2F0KGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpO1xyXG4gICAgICAgIF9zdGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgsIGFycikge1xyXG4gICAgICAgICAgX3N0YXRlc1tpbmRleF0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICBpZiAod2lkdGggPj0gX3N0YXRlc1tpbmRleF0ubWluV2lkdGgpXHJcbiAgICAgICAgICAgIF9pbmRleCA9IGluZGV4O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF9zdGF0ZXNbX2luZGV4XS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgX2dldEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2luZGV4O1xyXG4gICAgICAgIF9zdGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgsIGFycikge1xyXG4gICAgICAgICAgaWYgKF9zdGF0ZXNbaW5kZXhdLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBfaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gX2luZGV4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgZ2V0SXRlbU1pbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIGluZGV4SXRlbSA9IDA7XHJcbiAgICAgICAgICBfaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0ucG9zaXRpb24gPCBfaXRlbXNbaW5kZXhJdGVtXS5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgIGluZGV4SXRlbSA9IGluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiBpbmRleEl0ZW07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRJdGVtTWF4OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgaW5kZXhJdGVtID0gMDtcclxuICAgICAgICAgIF9pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5wb3NpdGlvbiA+IF9pdGVtc1tpbmRleEl0ZW1dLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgaW5kZXhJdGVtID0gaW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGluZGV4SXRlbTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldE1pbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIF9pdGVtc1twb3NpdGlvbi5nZXRJdGVtTWluKCldLnBvc2l0aW9uO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0TWF4OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gX2l0ZW1zW3Bvc2l0aW9uLmdldEl0ZW1NYXgoKV0ucG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgX3RyYW5zZm9ybUl0ZW0gPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIG5leHRJdGVtLCBjdXJyZW50SW5kaWNhdG9yID0gX2luZGV4SW5kaWNhdG9yO1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZGlyKF9pc0VsZW1lbnRWaXNpYmxlKF9tYWluRWxlbWVudCkpOyBcclxuICAgICAgICAvLyBpZiAoIV9pc0VsZW1lbnRWaXNpYmxlKF9tYWluRWxlbWVudCkpIHtcclxuICAgICAgICAvLyAgIHJldHVybjtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgX3Bvc2l0aW9uTGVmdEl0ZW0rKztcclxuICAgICAgICAgIGlmICgoX3Bvc2l0aW9uTGVmdEl0ZW0gKyBfd3JhcHBlcldpZHRoIC8gX2l0ZW1XaWR0aCAtIDEpID4gcG9zaXRpb24uZ2V0TWF4KCkpIHtcclxuICAgICAgICAgICAgbmV4dEl0ZW0gPSBwb3NpdGlvbi5nZXRJdGVtTWluKCk7XHJcbiAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0ucG9zaXRpb24gPSBwb3NpdGlvbi5nZXRNYXgoKSArIDE7XHJcbiAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0udHJhbnNmb3JtICs9IF9pdGVtcy5sZW5ndGggKiAxMDA7XHJcbiAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0uaXRlbS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgX2l0ZW1zW25leHRJdGVtXS50cmFuc2Zvcm0gKyAnJSknO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgX3RyYW5zZm9ybSAtPSBfc3RlcDtcclxuICAgICAgICAgIF9pbmRleEluZGljYXRvciA9IF9pbmRleEluZGljYXRvciArIDE7XHJcbiAgICAgICAgICBpZiAoX2luZGV4SW5kaWNhdG9yID4gX21heEluZGV4SW5kaWNhdG9yKSB7XHJcbiAgICAgICAgICAgIF9pbmRleEluZGljYXRvciA9IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgX3Bvc2l0aW9uTGVmdEl0ZW0tLTtcclxuICAgICAgICAgIGlmIChfcG9zaXRpb25MZWZ0SXRlbSA8IHBvc2l0aW9uLmdldE1pbigpKSB7XHJcbiAgICAgICAgICAgIG5leHRJdGVtID0gcG9zaXRpb24uZ2V0SXRlbU1heCgpO1xyXG4gICAgICAgICAgICBfaXRlbXNbbmV4dEl0ZW1dLnBvc2l0aW9uID0gcG9zaXRpb24uZ2V0TWluKCkgLSAxO1xyXG4gICAgICAgICAgICBfaXRlbXNbbmV4dEl0ZW1dLnRyYW5zZm9ybSAtPSBfaXRlbXMubGVuZ3RoICogMTAwO1xyXG4gICAgICAgICAgICBfaXRlbXNbbmV4dEl0ZW1dLml0ZW0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoJyArIF9pdGVtc1tuZXh0SXRlbV0udHJhbnNmb3JtICsgJyUpJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIF90cmFuc2Zvcm0gKz0gX3N0ZXA7XHJcbiAgICAgICAgICBfaW5kZXhJbmRpY2F0b3IgPSBfaW5kZXhJbmRpY2F0b3IgLSAxO1xyXG4gICAgICAgICAgaWYgKF9pbmRleEluZGljYXRvciA8IDApIHtcclxuICAgICAgICAgICAgX2luZGV4SW5kaWNhdG9yID0gX21heEluZGV4SW5kaWNhdG9yO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBfc2xpZGVyV3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgX3RyYW5zZm9ybSArICclKSc7XHJcbiAgICAgICAgX2luZGljYXRvckl0ZW1zW2N1cnJlbnRJbmRpY2F0b3JdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIF9pbmRpY2F0b3JJdGVtc1tfaW5kZXhJbmRpY2F0b3JdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgX3NsaWRlVG8gPSBmdW5jdGlvbiAodG8pIHtcclxuICAgICAgICB2YXIgaSA9IDAsIGRpcmVjdGlvbiA9ICh0byA+IF9pbmRleEluZGljYXRvcikgPyAncmlnaHQnIDogJ2xlZnQnO1xyXG4gICAgICAgIHdoaWxlICh0byAhPT0gX2luZGV4SW5kaWNhdG9yICYmIGkgPD0gX21heEluZGV4SW5kaWNhdG9yKSB7XHJcbiAgICAgICAgICBfdHJhbnNmb3JtSXRlbShkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIF9jeWNsZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcclxuICAgICAgICBpZiAoIV9jb25maWcuaXNDeWNsaW5nKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90cmFuc2Zvcm1JdGVtKGRpcmVjdGlvbik7XHJcbiAgICAgICAgfSwgX2NvbmZpZy5pbnRlcnZhbCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBfY29udHJvbENsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZXJfX2NvbnRyb2wnKSkge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyX19jb250cm9sX3JpZ2h0JykgPyAncmlnaHQnIDogJ2xlZnQnO1xyXG4gICAgICAgICAgX3RyYW5zZm9ybUl0ZW0oZGlyZWN0aW9uKTtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX2ludGVydmFsKTtcclxuICAgICAgICAgIF9jeWNsZShfY29uZmlnLmRpcmVjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xpZGUtdG8nKSkge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgX3NsaWRlVG8ocGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlLXRvJykpKTtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX2ludGVydmFsKTtcclxuICAgICAgICAgIF9jeWNsZShfY29uZmlnLmRpcmVjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIF9oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwiaGlkZGVuXCIpIHtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX2ludGVydmFsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChfaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgX2N5Y2xlKF9jb25maWcuZGlyZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBfcmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKF9pbnRlcnZhbCk7XHJcbiAgICAgICAgX21haW5FbGVtZW50LmlubmVySFRNTCA9IF9odG1sO1xyXG5cclxuICAgICAgICBfc2xpZGVyV3JhcHBlciA9IF9tYWluRWxlbWVudC5jX3F1ZXJ5U2VsZWN0b3IoLy4raXRlbXMvLCB0cnVlKTtcclxuICAgICAgICBfc2xpZGVySXRlbXMgPSBfc2xpZGVyV3JhcHBlci5jX3F1ZXJ5U2VsZWN0b3JBbGwoLy4raXRlbS8sIHRydWUpO1xyXG4gICAgICAgIF9zbGlkZXJDb250cm9scyA9IF9tYWluRWxlbWVudC5jX3F1ZXJ5U2VsZWN0b3JBbGwoLy4rY29udHJvbC8sIHRydWUpO1xyXG4gICAgICAgIF9zbGlkZXJDb250cm9sTGVmdCA9IF9tYWluRWxlbWVudC5jX3F1ZXJ5U2VsZWN0b3IoLy4rY29udHJvbF9sZWZ0LywgdHJ1ZSk7XHJcbiAgICAgICAgX3NsaWRlckNvbnRyb2xSaWdodCA9IF9tYWluRWxlbWVudC5jX3F1ZXJ5U2VsZWN0b3IoLy4rY29udHJvbF9yaWdodC8sIHRydWUpO1xyXG4gICAgICAgIF93cmFwcGVyV2lkdGggPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoX3NsaWRlcldyYXBwZXIpLndpZHRoKTtcclxuICAgICAgICBfaXRlbVdpZHRoID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKF9zbGlkZXJJdGVtc1swXSkud2lkdGgpO1xyXG4gICAgICAgIF9wb3NpdGlvbkxlZnRJdGVtID0gMDtcclxuICAgICAgICBfdHJhbnNmb3JtID0gMDtcclxuICAgICAgICBfaW5kZXhJbmRpY2F0b3IgPSAwO1xyXG4gICAgICAgIF9tYXhJbmRleEluZGljYXRvciA9IF9zbGlkZXJJdGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIF9zdGVwID0gX2l0ZW1XaWR0aCAvIF93cmFwcGVyV2lkdGggKiAxMDA7XHJcbiAgICAgICAgX2l0ZW1zID0gW107XHJcbiAgICAgICAgX3NsaWRlckl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICBfaXRlbXMucHVzaCh7IGl0ZW06IGl0ZW0sIHBvc2l0aW9uOiBpbmRleCwgdHJhbnNmb3JtOiAwIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF9hZGRJbmRpY2F0b3JzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBfc2V0VXBMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX21haW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NvbnRyb2xDbGljayk7XHJcbiAgICAgICAgaWYgKF9jb25maWcucGF1c2UgJiYgX2NvbmZpZy5pc0N5Y2xpbmcpIHtcclxuICAgICAgICAgIF9tYWluRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKF9pbnRlcnZhbCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIF9tYWluRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKF9pbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIF9jeWNsZShfY29uZmlnLmRpcmVjdGlvbik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSwgZmFsc2UpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXJcclxuICAgICAgICAgICAgX2luZGV4ID0gMCxcclxuICAgICAgICAgICAgd2lkdGggPSBwYXJzZUZsb2F0KGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpO1xyXG4gICAgICAgICAgX3N0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCwgYXJyKSB7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aCA+PSBfc3RhdGVzW2luZGV4XS5taW5XaWR0aClcclxuICAgICAgICAgICAgICBfaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgaWYgKF9pbmRleCAhPT0gX2dldEFjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIF9zZXRBY3RpdmUoKTtcclxuICAgICAgICAgICAgX3JlZnJlc2goKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICB2YXIgX2FkZEluZGljYXRvcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlckluZGljYXRvcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvbCcpO1xyXG4gICAgICAgIHNsaWRlckluZGljYXRvcnMuY2xhc3NMaXN0LmFkZChzZWxlY3Rvci5zcGxpdCgnX18nKVswXS5zbGljZSgxKSsnX19pbmRpY2F0b3JzJyk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3NsaWRlckl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgc2xpZGVySW5kaWNhdG9yc0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgc2xpZGVySW5kaWNhdG9yc0l0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzbGlkZXJJbmRpY2F0b3JzSXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlLXRvXCIsIGkpO1xyXG4gICAgICBcclxuICAgICAgICAgIHNsaWRlckluZGljYXRvcnMuYXBwZW5kQ2hpbGQoc2xpZGVySW5kaWNhdG9yc0l0ZW0pO1xyXG4gICAgICAgICAgX3NsaWRlcldyYXBwZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgIHNsaWRlckluZGljYXRvcnMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUuZGlyKHNsaWRlckluZGljYXRvcnMpO1xyXG5cclxuICAgICAgICAvLyBfbWFpbkVsZW1lbnQuYXBwZW5kQ2hpbGQoc2xpZGVySW5kaWNhdG9ycyk7XHJcblxyXG4gICAgICAgIF9pbmRpY2F0b3JJdGVtcyA9IF9tYWluRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yLnNwbGl0KCdfXycpWzBdKydfX2luZGljYXRvcnMgPiBsaScpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQuNC90LTQuNC60LDRgtC+0YDRi1xyXG4gICAgICBfYWRkSW5kaWNhdG9ycygpO1xyXG4gICAgICAvLyDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gICAgICBfc2V0VXBMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSB7XHJcbiAgICAgICAgX2N5Y2xlKF9jb25maWcuZGlyZWN0aW9uKTtcclxuICAgICAgfVxyXG4gICAgICBfc2V0QWN0aXZlKCk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJpZ2h0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBfdHJhbnNmb3JtSXRlbSgncmlnaHQnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlZnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90cmFuc2Zvcm1JdGVtKCdsZWZ0Jyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBfY29uZmlnLmlzQ3ljbGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChfaW50ZXJ2YWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3ljbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF9jb25maWcuaXNDeWNsaW5nID0gdHJ1ZTtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX2ludGVydmFsKTtcclxuICAgICAgICAgIF9jeWNsZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuICB9KCkpO1xyXG5cclxuICB2YXIgc2xpZGVyID0gbXVsdGlJdGVtU2xpZGVyKCcuc2xpZGVyJywge1xyXG4gICAgaXNDeWNsaW5nOiB0cnVlLFxyXG4gICAgaW50ZXJ2YWw6IDgwMDBcclxuICB9KTtcclxuICB2YXIgaW5zdFNsaWRlcjEgPSBtdWx0aUl0ZW1TbGlkZXIoJy5pbnN0X19zbGlkZXItLTEnLCB7XHJcbiAgICBpc0N5Y2xpbmc6IHRydWUsXHJcbiAgICBpbnRlcnZhbDogNTAwMFxyXG4gIH0pO1xyXG4gIHZhciBpbnN0U2xpZGVyMiA9IG11bHRpSXRlbVNsaWRlcignLmluc3RfX3NsaWRlci0tMicsIHtcclxuICAgIGlzQ3ljbGluZzogdHJ1ZSxcclxuICAgIGludGVydmFsOiA1MDAwXHJcbiAgfSk7XHJcbiAgdmFyIGluc3RTbGlkZXIzID0gbXVsdGlJdGVtU2xpZGVyKCcuaW5zdF9fc2xpZGVyLS0zJywge1xyXG4gICAgaXNDeWNsaW5nOiB0cnVlLFxyXG4gICAgaW50ZXJ2YWw6IDUwMDBcclxuICB9KTtcclxuICB2YXIgaW5zdFNsaWRlcjQgPSBtdWx0aUl0ZW1TbGlkZXIoJy5pbnN0X19zbGlkZXItLTQnLCB7XHJcbiAgICBpc0N5Y2xpbmc6IHRydWUsXHJcbiAgICBpbnRlcnZhbDogNTAwMFxyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuIiwibW9kdWxlLmV4cG9ydHM9e1xyXG4gIFwicHJvdG9jb2xcIjogXCJodHRwc1wiLFxyXG4gIFwiaG9zdFwiOiBcImVsZWt0cmlrc3RhZmYucnVcIixcclxuICBcInBvcnRcIjogXCJcIlxyXG59Il19

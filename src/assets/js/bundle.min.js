(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var cards = document.querySelector('#js-adv-cards');

(function () {
  var state = {
    threshold: {
      bottom: 50,
      //на каком расстоянии от нижней кромки хотим увидеть
      top: 50,
      translateY: parseFloat(getComputedStyle(cards.children[0]).transform.split(',')[5]) //вернуть позицию сдвига

    },
    delay: parseFloat(getComputedStyle(cards.children[0]).transitionDuration),
    total: 0,
    visibilityReact: false
  };
  document.addEventListener('scroll', checkedCard);

  function checkedCard(ev) {
    _toConsumableArray(cards.children).forEach(function (card, inx) {
      state.visibilityReact = checkVisible(card, state.threshold);

      if (!card.classList.contains('card--active') && state.visibilityReact) {
        state.total += state.delay / (inx + 1);
        card.style.transitionDuration = state.total.toFixed(2) + 's';
        card.style.transitionDelay = (state.total / 3).toFixed(2) + 's';
        card.classList.add('card--active');
      }

      if (card.classList.contains('card--active') && !state.visibilityReact) {
        state.total = 0;
        state.visibilityReact = false;
        card.classList.remove('card--active');
      }
    });
  }

  function checkVisible(el) {
    var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      bottom: 0,
      top: 0,
      translateY: 0
    };
    var top = el.getBoundingClientRect().top;
    var bottom = el.getBoundingClientRect().bottom;

    if (top - threshold.translateY + threshold.bottom - window.innerHeight <= 0 || bottom + threshold.bottom < 0) {
      return true;
    } else return false;
  }
})();

},{}],2:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Element.prototype.createCount = function () {
  var nameClass = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var maxCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {
    tag: '',
    element: ''
  };
  var tag = option.tag ? option.tag : 'span';
  this.countClassName = nameClass;
  this.maxCount = maxCount;
  this.constructor.prototype.updateCount = updateCount;
  var el = "<".concat(tag, " class=").concat(nameClass, " >").concat(this.value.length, "/").concat(maxCount, "</").concat(tag, ">");

  if (_typeof(option.element) === 'object') {
    option.element.insertAdjacentHTML('afterend', el);
    this.countTarget = option.element;
    return;
  }

  this.insertAdjacentHTML('afterend', el);
};

function updateCount() {
  var countTarget = this.countTarget ? this.countTarget.nextElementSibling : this.nextElementSibling;
  countTarget.textContent = "".concat(this.value.length, "/").concat(this.maxCount);
}

},{}],3:[function(require,module,exports){
"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var header = document.querySelector('.header');

if (header.clientWidth < 768) {
  var btnMenu = "<div class=\"btn-burger\">\n      <i class=\"btn-burger__item\"></i>\n      <i class=\"btn-burger__item\"></i>\n      <i class=\"btn-burger__item\"></i>\n    </div>";
  header.insertAdjacentHTML("beforeend", btnMenu);
  var headerBtnMenu = document.querySelector('.btn-burger');
  headerBtnMenu.addEventListener('click', toggleMenu);
}

function toggleMenu(ev) {
  this.parentNode.children[0].classList.toggle('header__items--active');
  this.parentNode.classList.toggle('header--active');

  _toConsumableArray(this.children).forEach(function (burgerItem) {
    burgerItem.classList.toggle('btn-burger__item--active');
  });
}

},{}],4:[function(require,module,exports){
"use strict";

var _slider = _interopRequireDefault(require("./slider"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.onload = function () {
  (0, _slider.default)();
};

},{"./slider":11}],5:[function(require,module,exports){
"use strict";

var imageIst = document.querySelectorAll('.inst__slider-item');
var imgOption = {
  root: document.querySelector('.inst__sliders'),

  /* должен быть предком. по умолчанию окно браузера */
  rootMargin: '0px 500px 0px 0px',

  /*Отступы вокруг root.  */
  threshold: .05
  /* число от 0-1. это насколько процентов должен быть видео объект при котором
     должна отработать callback функция. Можно даж массив передать. [0, 0.25, 0.5, 0.75, 1] */

};
var imgObserver = new IntersectionObserver(function (entries, imgObserver) {
  entries.forEach(function (_ref) {
    var target = _ref.target,
        isIntersecting = _ref.isIntersecting;

    if (!isIntersecting) {
      /*элементы не пересекают границу. false */
      return;
    }

    target.src = target.getAttribute("data-src");
    imgObserver.unobserve(target);
  });
}, imgOption);
imageIst.forEach(function (item) {
  imgObserver.observe(item);
});

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.popup = popup;

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function popup(popupEl, btnOpen) {
  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {
    noBlockEl: '',
    scrollOff: false,
    opened: '',
    closing: ''
  };
  var close = popupEl.querySelector("#".concat(popupEl.id, "-close"));
  var saveScrollToTheOpen;
  btnOpen.addEventListener('click', openPrice);
  popupEl.addEventListener('click', closePrice);

  function openPrice(ev) {
    popupEl.style.display = "flex";
    saveScrollToTheOpen = window.scrollY;
    lockScroll();

    if (typeof option.opened == 'function') {
      option.opened();
    }
  }

  function closePrice(ev) {
    if (ev.target == popupEl || ev.target == close) {
      popupEl.style.display = "none";
      unlockScroll();

      if (typeof option.closing == 'function') {
        option.closing();
      }
    }
  }
  /*#######---------<{ Control Scroll}>---------##########*/


  function lockScroll() {
    window.addEventListener('wheel', evWheel, {
      passive: false
    });
    window.addEventListener('scroll', evScroll);
  }

  function unlockScroll() {
    window.removeEventListener('wheel', evWheel, {
      passive: false
    });
    window.removeEventListener('scroll', evScroll);
  }

  function evWheel(ev) {
    if (_typeof(option.noBlockEl) == 'object') {
      if (!option.noBlockEl.contains(ev.target)) {
        ev.preventDefault();
        return;
      }
    } else if (option.scrollOff) {
      ev.preventDefault();
      return;
    }

    console.dir("evWheel");
    this.scrollTo(0, saveScrollToTheOpen);
  }

  function evScroll(ev) {
    console.dir("evScroll");
    this.scrollTo(0, saveScrollToTheOpen);
  }
}

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.preloaderTable = preloaderTable;

function preloaderTable() {
  return "<div id=\"preloader\">\n            <div id=\"loader\"></div>\n          </div>";
}

},{}],8:[function(require,module,exports){
"use strict";

var _preloader = require("./preloader");

var _popup = require("./popup");

function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

var _location = location,
    protocol = _location.protocol,
    host = _location.host;
var priceBtn = document.querySelector('#js-popup-pl-open');
var priceList = document.querySelector('#js-popup-pl');
var priceTable = document.querySelector('#js-p-table');
var tableBody = document.querySelector('#js-p-tableBody');
(0, _popup.popup)(priceList, priceBtn, {
  noBlockEl: priceTable,
  opened: ajaxRequestTable
});
/*########---------<{ Main Function }>---------#########*/

console.dir("".concat(protocol, "//").concat(host, "/table"));

function ajaxRequestTable() {
  if (!tableBody.children.length) {
    tableBody.innerHTML = (0, _preloader.preloaderTable)();
    fetch("".concat(protocol, "//").concat(host, "/table")).then(function (data) {
      return data.json();
    }).then(function (data) {
      tableBody.innerHTML = '';
      renderTable(data);
    }).then(function () {
      hangTheFunctionality();
    }).catch(function (err) {
      tableBody.textContent = err;
    });
  } else console.dir('Данные уже загружены');
}
/*#######------<{ renderTable and hangTheFunctionality }>--------#######*/


function renderTable(data) {
  var _iterator = _createForOfIteratorHelper(data),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var arrTables = _step.value;

      if (Number(arrTables.id) === 1) {
        tableBody.innerHTML += "<tr class=\"price-list__row-head-title\" >\n        <th class=\"price-list__cell-head-title\" colspan=\"4\">".concat(arrTables.services, "</th>\n      </tr>\n        <tr class=\"price-list__row-info\" >\n          <td class=\"price-list__cell-info\">\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435</td>\n          <td class=\"price-list__cell-info\">\u0415\u0434.\u0438\u0437\u043C.</td>\n          <td class=\"price-list__cell-info\">\u0426\u0435\u043D\u0430(\u0440\u0443\u0431.)</td>\n          <td class=\"price-list__cell-info\">\u041A\u043E\u043B-\u0432\u043E</td>\n          <td class=\"price-list__cell-info\">\u0421\u0443\u043C\u043C\u0430</td>\n        </tr>");
      } else {
        tableBody.innerHTML += "<tr class=\"price-list__row\">\n        <td class=\"price-list__cell\">".concat(arrTables.services, "</td>\n        <td class=\"price-list__cell\">").concat(arrTables.unit, "</td>\n        <td class=\"price-list__cell js-p-rub\">").concat(arrTables.price, "</td>\n        <td class=\"price-list__cell\">\n          <input class=\"price-list__input js-p-input\" type=\"text\" name=\"dataCell\">\n        </td>\n        <td class=\"price-list__cell js-p-sum\">0</td>\n      </tr>");
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
}

function hangTheFunctionality() {
  var priceRublesCell = document.querySelectorAll('.js-p-rub');
  var priceInputCells = document.querySelectorAll('.js-p-input');
  var priceSumCell = document.querySelectorAll('.js-p-sum');
  var priceResult = document.querySelector('#js-p-result');
  var arrNumbers = [];
  priceInputCells.forEach(function (item, inx) {
    item.addEventListener('input', changeInput.bind(item, inx));
  });

  function changeInput(inx, ev) {
    this.value = this.value.replace(/\D/g, ''); //blocking character input
    //заперли inx в замыкании привязав input к индексам массива.

    priceSumCell[inx].textContent = arrNumbers[inx] = getSumInputs(this.value, inx);
    priceResult.textContent = getResult(arrNumbers);
  }

  function getSumInputs(val, inx) {
    return +priceRublesCell[inx].textContent * +val;
  }

  function getResult(arr) {
    return arr.reduce(function (prev, num) {
      return prev += +num;
    }, 0);
  }
}

},{"./popup":6,"./preloader":7}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.state = void 0;

var _state;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var inputName = document.querySelector('#js-m-name');
var inputPhone = document.querySelector('#js-m-phone');
var textArea = document.querySelector('#js-m-textarea');
var state = (_state = {}, _defineProperty(_state, inputName.name, {
  min: 2,
  max: 15,
  status: false,
  length: 0,
  value: ''
}), _defineProperty(_state, inputPhone.name, {
  min: 18,
  max: 18,
  status: false,
  length: 0,
  value: ''
}), _defineProperty(_state, textArea.name, {
  min: 10,
  max: 400,
  status: false,
  length: 0,
  value: ''
}), _state);
exports.state = state;
[inputName, inputPhone, textArea].forEach(function (item) {
  item.addEventListener('input', checkInAll);
});
textArea.createCount('mail-popup__form-count', state[textArea.name].max, {
  element: textArea.parentElement
});

function checkInAll(ev) {
  ev.preventDefault();

  if (this === inputName || this === textArea) {
    this.value = this.value.replace(/[%<>&]|(script)/g, '');
    if (this === textArea) this.updateCount();
  }

  if (this == inputPhone) maskInput(this, ev);
  maxMin(this);
}

function maxMin(el) {
  var stateItem = state[el.name];

  if (el.value.length >= stateItem.min && stateItem.length <= stateItem.max) {
    stateItem.status = true;
    el.style.animationName = 'glowInputSuccess';
  } else {
    stateItem.status = false;
    el.style.animationName = 'glowInputError';
  }

  if (el.value.length > stateItem.max) {
    el.value = el.value.slice(0, stateItem.max);
  } else {
    stateItem.length = el.value.length;
    stateItem.value = el.value;
  }
}

function maskInput(el, ev) {
  var input = el;
  var mask = input.dataset.mask;
  var value = input.value;
  var literalPattern = /[0\*]/;
  var numberPattern = /[0-9]/gi; //+7 (000) 000-00-00//\+7\s\(9\d{2}\)\s\d{3}-\d{2}-\d{2}

  var newValue = "";

  if (/\D/.test(ev.data)) {
    el.value = el.value.replace(ev.data, '');
    return;
  }

  try {
    var maskLength = mask.length;
    var valueIndex = 0;
    var maskIndex = 0;

    for (; maskIndex < maskLength;) {
      if (maskIndex >= value.length) break;
      if (mask[maskIndex] === "0" && value[valueIndex].match(numberPattern) === null) break; // Found a literal

      while (mask[maskIndex].match(literalPattern) === null) {
        if (value[valueIndex] === mask[maskIndex]) break;
        newValue += mask[maskIndex++];
      }

      newValue += value[valueIndex++];
      maskIndex++;
    }

    input.value = newValue;
  } catch (e) {
    console.log(e);
  }
} //^[+\d]*[(]\d{3}[)]\d{3}-\d{2}-\d{2}/g

},{}],10:[function(require,module,exports){
"use strict";

var _popup = require("../popup");

var _checkIn = require("./check-in");

var _location = location,
    protocol = _location.protocol,
    hostname = _location.hostname;
var popupMail = document.querySelector('#js-popup-mail');
var popupOpen = document.querySelector('#js-popup-mail-open');
var mailForm = document.querySelector('#js-m-form');
(0, _popup.popup)(popupMail, popupOpen, {
  scrollOff: true,
  closing: resetForm
});
mailForm.addEventListener('submit', sendMail);

function sendMail(ev) {
  ev.preventDefault();

  if (!Object.values(_checkIn.state).every(function (item) {
    return item.status;
  })) {
    return;
  }

  fetch("".concat(protocol, "//").concat(hostname, "/mail"), {
    method: 'POST',
    body: new FormData(this)
  }).then(function (data) {
    return data.json();
  }).then(function (data) {
    success(JSON.stringify(data));
  }).catch(function (err) {
    console.dir(err);
  });
}

var msg = "<div class=\"mail-popup__form-success-msg\">\u041F\u0438\u0441\u044C\u043C\u043E \u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E</div>";

function success(data) {
  console.info(data);
  mailForm.classList.add('mail-popup__form--success');
  var timing = parseFloat(getComputedStyle(mailForm).transitionDuration);
  setTimeout(function () {
    mailForm.insertAdjacentHTML('afterend', msg); //JSON.stringify(data)
  }, timing * 1000);
}

function resetForm() {
  var elSuccessMsg = mailForm.nextElementSibling;

  if (elSuccessMsg && elSuccessMsg.matches('.mail-popup__form-success-msg')) {
    mailForm.parentElement.removeChild(elSuccessMsg);
    mailForm.classList.remove('mail-popup__form--success');

    for (var i = 0; i < mailForm.length - 1; i++) {
      mailForm[i].value = '';

      if (mailForm[i].updateCount) {
        console.info('Счётчик Сброшен');
        mailForm[i].updateCount();
      }
    }
  }
}

},{"../popup":6,"./check-in":9}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _default() {
  var multiItemSlider = function () {
    Element.prototype.c_querySelector = function (selectOrRegExp) {
      var flag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (selectOrRegExp.constructor === RegExp.prototype.constructor && flag) {
        return _toConsumableArray(this.children).find(function (item) {
          return selectOrRegExp.test(item.className);
        });
      } else {
        return this.querySelector(selectOrRegExp);
      }
    };

    Element.prototype.c_querySelectorAll = function (selectOrRegExp) {
      var flag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (selectOrRegExp.constructor === RegExp.prototype.constructor && flag) {
        return _toConsumableArray(this.children).filter(function (item) {
          return selectOrRegExp.test(item.className);
        });
      } else {
        return this.querySelectorAll(selectOrRegExp);
      }
    };

    function _isElementVisible(element) {
      // возможно потребуется установить элементу z-index:0
      var rect = element.getBoundingClientRect(),
          vWidth = window.innerWidth || doc.documentElement.clientWidth,
          vHeight = window.innerHeight || doc.documentElement.clientHeight,
          elemFromPoint = function elemFromPoint(x, y) {
        return document.elementFromPoint(x, y);
      };

      if (rect.right < 0 || rect.bottom < 0 || rect.left > vWidth || rect.top > vHeight) return false;
      return element.contains(elemFromPoint(rect.left, rect.top)) || element.contains(elemFromPoint(rect.right, rect.top)) || element.contains(elemFromPoint(rect.right, rect.bottom)) || element.contains(elemFromPoint(rect.left, rect.bottom));
    }

    return function (selector, config) {
      var _mainElement = document.querySelector(selector),
          _sliderWrapper = _mainElement.c_querySelector(/.+items/, true),
          _sliderItems = _sliderWrapper.c_querySelectorAll(/.+item/, true),
          _sliderControls = _mainElement.c_querySelectorAll(/.+control/, true),
          _sliderControlLeft = _mainElement.c_querySelector(/.+control_left/, true),
          _sliderControlRight = _mainElement.c_querySelector(/.+control_right/, true),
          _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width),
          _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width),
          _html = _mainElement.innerHTML;

      var _indexIndicator = 0,
          _maxIndexIndicator = _sliderItems.length - 1,
          _indicatorItems,
          _positionLeftItem = 0,
          _transform = 0,
          _step = _itemWidth / _wrapperWidth * 100,
          _items = [],
          _interval = 0,
          _states = [{
        active: false,
        minWidth: 0,
        count: 1
      }, {
        active: false,
        minWidth: 576,
        count: 2
      }, {
        active: false,
        minWidth: 992,
        count: 3
      }, {
        active: false,
        minWidth: 1200,
        count: 4
      }],
          _config = {
        isCycling: false,
        direction: 'right',
        interval: 5000,
        pause: true
      };

      for (var key in config) {
        if (key in _config) {
          _config[key] = config[key];
        }
      }

      _sliderItems.forEach(function (item, index) {
        _items.push({
          item: item,
          position: index,
          transform: 0
        });
      });

      var _setActive = function _setActive() {
        var _index = 0;
        var width = parseFloat(document.body.clientWidth);

        _states.forEach(function (item, index, arr) {
          _states[index].active = false;
          if (width >= _states[index].minWidth) _index = index;
        });

        _states[_index].active = true;
      };

      var _getActive = function _getActive() {
        var _index;

        _states.forEach(function (item, index, arr) {
          if (_states[index].active) {
            _index = index;
          }
        });

        return _index;
      };

      var position = {
        getItemMin: function getItemMin() {
          var indexItem = 0;

          _items.forEach(function (item, index) {
            if (item.position < _items[indexItem].position) {
              indexItem = index;
            }
          });

          return indexItem;
        },
        getItemMax: function getItemMax() {
          var indexItem = 0;

          _items.forEach(function (item, index) {
            if (item.position > _items[indexItem].position) {
              indexItem = index;
            }
          });

          return indexItem;
        },
        getMin: function getMin() {
          return _items[position.getItemMin()].position;
        },
        getMax: function getMax() {
          return _items[position.getItemMax()].position;
        }
      };

      var _transformItem = function _transformItem(direction) {
        var nextItem,
            currentIndicator = _indexIndicator; // console.dir(_isElementVisible(_mainElement)); 
        // if (!_isElementVisible(_mainElement)) {
        //   return;
        // }

        if (direction === 'right') {
          _positionLeftItem++;

          if (_positionLeftItem + _wrapperWidth / _itemWidth - 1 > position.getMax()) {
            nextItem = position.getItemMin();
            _items[nextItem].position = position.getMax() + 1;
            _items[nextItem].transform += _items.length * 100;
            _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';
          }

          _transform -= _step;
          _indexIndicator = _indexIndicator + 1;

          if (_indexIndicator > _maxIndexIndicator) {
            _indexIndicator = 0;
          }
        }

        if (direction === 'left') {
          _positionLeftItem--;

          if (_positionLeftItem < position.getMin()) {
            nextItem = position.getItemMax();
            _items[nextItem].position = position.getMin() - 1;
            _items[nextItem].transform -= _items.length * 100;
            _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';
          }

          _transform += _step;
          _indexIndicator = _indexIndicator - 1;

          if (_indexIndicator < 0) {
            _indexIndicator = _maxIndexIndicator;
          }
        }

        _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';

        _indicatorItems[currentIndicator].classList.remove('active');

        _indicatorItems[_indexIndicator].classList.add('active');
      };

      var _slideTo = function _slideTo(to) {
        var i = 0,
            direction = to > _indexIndicator ? 'right' : 'left';

        while (to !== _indexIndicator && i <= _maxIndexIndicator) {
          _transformItem(direction);

          i++;
        }
      };

      var _cycle = function _cycle(direction) {
        if (!_config.isCycling) {
          return;
        }

        _interval = setInterval(function () {
          _transformItem(direction);
        }, _config.interval);
      };

      var _controlClick = function _controlClick(e) {
        if (e.target.classList.contains('slider__control')) {
          e.preventDefault();
          var direction = e.target.classList.contains('slider__control_right') ? 'right' : 'left';

          _transformItem(direction);

          clearInterval(_interval);

          _cycle(_config.direction);
        }

        if (e.target.getAttribute('data-slide-to')) {
          e.preventDefault();

          _slideTo(parseInt(e.target.getAttribute('data-slide-to')));

          clearInterval(_interval);

          _cycle(_config.direction);
        }
      };

      var _handleVisibilityChange = function _handleVisibilityChange() {
        if (document.visibilityState === "hidden") {
          clearInterval(_interval);
        } else {
          clearInterval(_interval);

          _cycle(_config.direction);
        }
      };

      var _refresh = function _refresh() {
        clearInterval(_interval);
        _mainElement.innerHTML = _html;
        _sliderWrapper = _mainElement.c_querySelector(/.+items/, true);
        _sliderItems = _sliderWrapper.c_querySelectorAll(/.+item/, true);
        _sliderControls = _mainElement.c_querySelectorAll(/.+control/, true);
        _sliderControlLeft = _mainElement.c_querySelector(/.+control_left/, true);
        _sliderControlRight = _mainElement.c_querySelector(/.+control_right/, true);
        _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width);
        _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width);
        _positionLeftItem = 0;
        _transform = 0;
        _indexIndicator = 0;
        _maxIndexIndicator = _sliderItems.length - 1;
        _step = _itemWidth / _wrapperWidth * 100;
        _items = [];

        _sliderItems.forEach(function (item, index) {
          _items.push({
            item: item,
            position: index,
            transform: 0
          });
        });

        _addIndicators();
      };

      var _setUpListeners = function _setUpListeners() {
        _mainElement.addEventListener('click', _controlClick);

        if (_config.pause && _config.isCycling) {
          _mainElement.addEventListener('mouseenter', function () {
            clearInterval(_interval);
          });

          _mainElement.addEventListener('mouseleave', function () {
            clearInterval(_interval);

            _cycle(_config.direction);
          });
        }

        document.addEventListener('visibilitychange', _handleVisibilityChange, false);
        window.addEventListener('resize', function () {
          var _index = 0,
              width = parseFloat(document.body.clientWidth);

          _states.forEach(function (item, index, arr) {
            if (width >= _states[index].minWidth) _index = index;
          });

          if (_index !== _getActive()) {
            _setActive();

            _refresh();
          }
        });
      };

      var _addIndicators = function _addIndicators() {
        var sliderIndicators = document.createElement('ol');
        sliderIndicators.classList.add(selector.split('__')[0].slice(1) + '__indicators');

        for (var i = 0; i < _sliderItems.length; i++) {
          var sliderIndicatorsItem = document.createElement('li');

          if (i === 0) {
            sliderIndicatorsItem.classList.add('active');
          }

          sliderIndicatorsItem.setAttribute("data-slide-to", i);
          sliderIndicators.appendChild(sliderIndicatorsItem);

          _sliderWrapper.insertAdjacentElement("afterend", sliderIndicators);
        } // console.dir(sliderIndicators);
        // _mainElement.appendChild(sliderIndicators);


        _indicatorItems = _mainElement.querySelectorAll(selector.split('__')[0] + '__indicators > li');
      }; // добавляем индикаторы


      _addIndicators(); // инициализация


      _setUpListeners();

      if (document.visibilityState === "visible") {
        _cycle(_config.direction);
      }

      _setActive();

      return {
        right: function right() {
          _transformItem('right');
        },
        left: function left() {
          _transformItem('left');
        },
        stop: function stop() {
          _config.isCycling = false;
          clearInterval(_interval);
        },
        cycle: function cycle() {
          _config.isCycling = true;
          clearInterval(_interval);

          _cycle();
        }
      };
    };
  }();

  var slider = multiItemSlider('.slider', {
    isCycling: true,
    interval: 8000
  });
  var instSlider1 = multiItemSlider('.inst__slider--1', {
    isCycling: true,
    interval: 5000
  });
  var instSlider2 = multiItemSlider('.inst__slider--2', {
    isCycling: true,
    interval: 5000
  });
  var instSlider3 = multiItemSlider('.inst__slider--3', {
    isCycling: true,
    interval: 5000
  });
  var instSlider4 = multiItemSlider('.inst__slider--4', {
    isCycling: true,
    interval: 5000
  });
}

},{}]},{},[1,2,3,4,5,6,7,8,9,10,11])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXNzZXRzL2pzL2Rldi9hZHZhbnRhZ2VzLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvZXh0ZW5zaW9uRE9NLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvaGVhZGVyLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvaW5kZXguanMiLCJzcmMvYXNzZXRzL2pzL2Rldi9sYXp5TG9hZGluZy5qcyIsInNyYy9hc3NldHMvanMvZGV2L3BvcHVwLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvcHJlbG9hZGVyLmpzIiwic3JjL2Fzc2V0cy9qcy9kZXYvcHJpY2UtbGlzdC5qcyIsInNyYy9hc3NldHMvanMvZGV2L3NlY3Rpb24tbWFpbC9jaGVjay1pbi5qcyIsInNyYy9hc3NldHMvanMvZGV2L3NlY3Rpb24tbWFpbC9zZW5kRm9ybS5qcyIsInNyYy9hc3NldHMvanMvZGV2L3NsaWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FDQUEsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsZUFBdkIsQ0FBWjs7QUFDQSxDQUFDLFlBQVU7QUFDVCxNQUFJLEtBQUssR0FBRztBQUNWLElBQUEsU0FBUyxFQUFFO0FBQ1QsTUFBQSxNQUFNLEVBQUUsRUFEQztBQUNFO0FBQ1gsTUFBQSxHQUFHLEVBQUUsRUFGSTtBQUdULE1BQUEsVUFBVSxFQUFFLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsUUFBTixDQUFlLENBQWYsQ0FBRCxDQUFoQixDQUFvQyxTQUFwQyxDQUE4QyxLQUE5QyxDQUFvRCxHQUFwRCxFQUF5RCxDQUF6RCxDQUFELENBSGIsQ0FHMkU7O0FBSDNFLEtBREQ7QUFNVixJQUFBLEtBQUssRUFBRSxVQUFVLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLFFBQU4sQ0FBZSxDQUFmLENBQUQsQ0FBaEIsQ0FBb0Msa0JBQXJDLENBTlA7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O0FBQ2hCLFVBQUEsT0FBTyxDQUFDLFNBQVIsR0FBb0IsS0FBcEI7QUFDQSxVQUFBLGFBQWEsQ0FBQyxTQUFELENBQWI7QUFDRCxTQVZJO0FBV0wsUUFBQSxLQUFLLEVBQUUsaUJBQVk7QUFDakIsVUFBQSxPQUFPLENBQUMsU0FBUixHQUFvQixJQUFwQjtBQUNBLFVBQUEsYUFBYSxDQUFDLFNBQUQsQ0FBYjs7QUFDQSxVQUFBLE1BQU07QUFDUDtBQWZJLE9BQVA7QUFrQkQsS0FuUkQ7QUFvUkQsR0F6VG9CLEVBQXZCOztBQTJURSxNQUFJLE1BQU0sR0FBRyxlQUFlLENBQUMsU0FBRCxFQUFZO0FBQ3RDLElBQUEsU0FBUyxFQUFFLElBRDJCO0FBRXRDLElBQUEsUUFBUSxFQUFFO0FBRjRCLEdBQVosQ0FBNUI7QUFJQSxNQUFJLFdBQVcsR0FBRyxlQUFlLENBQUMsa0JBQUQsRUFBcUI7QUFDcEQsSUFBQSxTQUFTLEVBQUUsSUFEeUM7QUFFcEQsSUFBQSxRQUFRLEVBQUU7QUFGMEMsR0FBckIsQ0FBakM7QUFJQSxNQUFJLFdBQVcsR0FBRyxlQUFlLENBQUMsa0JBQUQsRUFBcUI7QUFDcEQsSUFBQSxTQUFTLEVBQUUsSUFEeUM7QUFFcEQsSUFBQSxRQUFRLEVBQUU7QUFGMEMsR0FBckIsQ0FBakM7QUFJQSxNQUFJLFdBQVcsR0FBRyxlQUFlLENBQUMsa0JBQUQsRUFBcUI7QUFDcEQsSUFBQSxTQUFTLEVBQUUsSUFEeUM7QUFFcEQsSUFBQSxRQUFRLEVBQUU7QUFGMEMsR0FBckIsQ0FBakM7QUFJQSxNQUFJLFdBQVcsR0FBRyxlQUFlLENBQUMsa0JBQUQsRUFBcUI7QUFDcEQsSUFBQSxTQUFTLEVBQUUsSUFEeUM7QUFFcEQsSUFBQSxRQUFRLEVBQUU7QUFGMEMsR0FBckIsQ0FBakM7QUFLRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImxldCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1hZHYtY2FyZHMnKTtcclxuKGZ1bmN0aW9uKCl7XHJcbiAgbGV0IHN0YXRlID0ge1xyXG4gICAgdGhyZXNob2xkOiB7XHJcbiAgICAgIGJvdHRvbTogNTAsLy/QvdCwINC60LDQutC+0Lwg0YDQsNGB0YHRgtC+0Y/QvdC40Lgg0L7RgiDQvdC40LbQvdC10Lkg0LrRgNC+0LzQutC4INGF0L7RgtC40Lwg0YPQstC40LTQtdGC0YxcclxuICAgICAgdG9wOiA1MCxcclxuICAgICAgdHJhbnNsYXRlWTogcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGNhcmRzLmNoaWxkcmVuWzBdKS50cmFuc2Zvcm0uc3BsaXQoJywnKVs1XSksLy/QstC10YDQvdGD0YLRjCDQv9C+0LfQuNGG0LjRjiDRgdC00LLQuNCz0LBcclxuICAgIH0sXHJcbiAgICBkZWxheTogcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGNhcmRzLmNoaWxkcmVuWzBdKS50cmFuc2l0aW9uRHVyYXRpb24pLFxyXG4gICAgdG90YWw6IDAsXHJcbiAgICB2aXNpYmlsaXR5UmVhY3Q6IGZhbHNlXHJcbiAgfTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjaGVja2VkQ2FyZCk7XHJcbiAgXHJcbiAgZnVuY3Rpb24gY2hlY2tlZENhcmQoZXYpe1xyXG4gICAgWy4uLmNhcmRzLmNoaWxkcmVuXS5mb3JFYWNoKChjYXJkLCBpbngpID0+e1xyXG4gICAgXHJcbiAgICAgIHN0YXRlLnZpc2liaWxpdHlSZWFjdCA9IGNoZWNrVmlzaWJsZShjYXJkLCBzdGF0ZS50aHJlc2hvbGQpO1xyXG4gIFxyXG4gICAgICBpZighY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtLWFjdGl2ZScpICYmIHN0YXRlLnZpc2liaWxpdHlSZWFjdCl7XHJcbiAgICAgICAgc3RhdGUudG90YWwgKz0gc3RhdGUuZGVsYXkgLyAoaW54ICsgMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2FyZC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBzdGF0ZS50b3RhbC50b0ZpeGVkKDIpICsgJ3MnO1xyXG4gICAgICAgIGNhcmQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gKHN0YXRlLnRvdGFsIC8gMykudG9GaXhlZCgyKSArICdzJztcclxuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQtLWFjdGl2ZScpXHJcbiAgICAgIH0gIFxyXG4gICAgICBpZihjYXJkLmNsYXNzTGlzdC5jb250YWlucygnY2FyZC0tYWN0aXZlJykgJiYgIXN0YXRlLnZpc2liaWxpdHlSZWFjdCl7XHJcbiAgICAgICBcclxuICAgICAgICBzdGF0ZS50b3RhbCA9IDA7XHJcbiAgICAgICAgc3RhdGUudmlzaWJpbGl0eVJlYWN0ID0gZmFsc2U7XHJcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkLS1hY3RpdmUnKTsgXHJcbiAgICAgIH0gICBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjaGVja1Zpc2libGUoZWwsIHRocmVzaG9sZCA9IHtib3R0b206IDAsIHRvcDogMCwgdHJhbnNsYXRlWTogMH0pe1xyXG4gICAgbGV0IHRvcCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIGxldCBib3R0b20gPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XHJcbiAgIFxyXG4gICAgaWYoKHRvcCAtIHRocmVzaG9sZC50cmFuc2xhdGVZICsgdGhyZXNob2xkLmJvdHRvbSkgLSB3aW5kb3cuaW5uZXJIZWlnaHQgPD0gMCBcclxuICAgICAgICB8fCBib3R0b20gKyB0aHJlc2hvbGQuYm90dG9tIDwgMCApe1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1lbHNlIHJldHVybiBmYWxzZTtcclxuICAgICBcclxuICB9XHJcblxyXG59KSgpXHJcbiIsIkVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNvdW50ID0gZnVuY3Rpb24gKG5hbWVDbGFzcyA9ICcnLCAgbWF4Q291bnQgPSA1MDAsIG9wdGlvbiA9IHsgdGFnOiAnJywgZWxlbWVudDogJycgfSl7XHJcblxyXG4gIGxldCB0YWcgPSAob3B0aW9uLnRhZykgPyBvcHRpb24udGFnIDogJ3NwYW4nO1xyXG4gIHRoaXMuY291bnRDbGFzc05hbWUgPSBuYW1lQ2xhc3M7XHJcbiAgdGhpcy5tYXhDb3VudCA9IG1heENvdW50O1xyXG5cclxuICB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS51cGRhdGVDb3VudCA9IHVwZGF0ZUNvdW50O1xyXG5cclxuICBsZXQgZWwgPSBgPCR7dGFnfSBjbGFzcz0ke25hbWVDbGFzc30gPiR7dGhpcy52YWx1ZS5sZW5ndGh9LyR7bWF4Q291bnR9PC8ke3RhZ30+YDtcclxuICBpZih0eXBlb2Ygb3B0aW9uLmVsZW1lbnQgPT09ICdvYmplY3QnKXtcclxuICAgIG9wdGlvbi5lbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBlbCk7XHJcbiAgICB0aGlzLmNvdW50VGFyZ2V0ID0gb3B0aW9uLmVsZW1lbnRcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdGhpcy5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgZWwpO1xyXG4gIFxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVDb3VudCgpIHtcclxuICBsZXQgY291bnRUYXJnZXQgPSAodGhpcy5jb3VudFRhcmdldCkgPyB0aGlzLmNvdW50VGFyZ2V0Lm5leHRFbGVtZW50U2libGluZyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgY291bnRUYXJnZXQudGV4dENvbnRlbnQgPSBgJHt0aGlzLnZhbHVlLmxlbmd0aH0vJHt0aGlzLm1heENvdW50fWA7XHJcbiAgXHJcbn1cclxuIiwibGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcclxuXHJcblxyXG5pZihoZWFkZXIuY2xpZW50V2lkdGggPCA3Njgpe1xyXG5cclxuICBsZXQgYnRuTWVudSA9IFxyXG4gICBgPGRpdiBjbGFzcz1cImJ0bi1idXJnZXJcIj5cclxuICAgICAgPGkgY2xhc3M9XCJidG4tYnVyZ2VyX19pdGVtXCI+PC9pPlxyXG4gICAgICA8aSBjbGFzcz1cImJ0bi1idXJnZXJfX2l0ZW1cIj48L2k+XHJcbiAgICAgIDxpIGNsYXNzPVwiYnRuLWJ1cmdlcl9faXRlbVwiPjwvaT5cclxuICAgIDwvZGl2PmA7XHJcbiAgaGVhZGVyLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBidG5NZW51KTtcclxuICBsZXQgaGVhZGVyQnRuTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tYnVyZ2VyJyk7XHJcbiAgaGVhZGVyQnRuTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZU1lbnUpO1xyXG4gXHJcbn1cclxuZnVuY3Rpb24gdG9nZ2xlTWVudShldil7XHJcbiAgdGhpcy5wYXJlbnROb2RlLmNoaWxkcmVuWzBdLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9faXRlbXMtLWFjdGl2ZScpO1xyXG4gIHRoaXMucGFyZW50Tm9kZS5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItLWFjdGl2ZScpO1xyXG4gIFsuLi50aGlzLmNoaWxkcmVuXS5mb3JFYWNoKGJ1cmdlckl0ZW0gPT4ge1xyXG4gICAgYnVyZ2VySXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdidG4tYnVyZ2VyX19pdGVtLS1hY3RpdmUnKVxyXG4gIH0pO1xyXG4gIFxyXG59IiwiaW1wb3J0IHJ1blNsaWRlcnMgZnJvbSAnLi9zbGlkZXInO1xyXG5cclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7XHJcbiAgcnVuU2xpZGVycygpO1xyXG59XHJcblxyXG4iLCJsZXQgaW1hZ2VJc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5zdF9fc2xpZGVyLWl0ZW0nKTtcclxubGV0IGltZ09wdGlvbiA9IHsgXHJcbiAgcm9vdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluc3RfX3NsaWRlcnMnKSwvKiDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0L/RgNC10LTQutC+0LwuINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINC+0LrQvdC+INCx0YDQsNGD0LfQtdGA0LAgKi9cclxuICByb290TWFyZ2luOiAnMHB4IDUwMHB4IDBweCAwcHgnLCAvKtCe0YLRgdGC0YPQv9GLINCy0L7QutGA0YPQsyByb290LiAgKi9cclxuICB0aHJlc2hvbGQ6IC4wNS8qINGH0LjRgdC70L4g0L7RgiAwLTEuINGN0YLQviDQvdCw0YHQutC+0LvRjNC60L4g0L/RgNC+0YbQtdC90YLQvtCyINC00L7Qu9C20LXQvSDQsdGL0YLRjCDQstC40LTQtdC+INC+0LHRitC10LrRgiDQv9GA0Lgg0LrQvtGC0L7RgNC+0LxcclxuICAgICAgICAgICAgICAgICAgINC00L7Qu9C20L3QsCDQvtGC0YDQsNCx0L7RgtCw0YLRjCBjYWxsYmFjayDRhNGD0L3QutGG0LjRjy4g0JzQvtC20L3QviDQtNCw0LYg0LzQsNGB0YHQuNCyINC/0LXRgNC10LTQsNGC0YwuIFswLCAwLjI1LCAwLjUsIDAuNzUsIDFdICovXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbn07XHJcblxyXG5cclxuY29uc3QgaW1nT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMsIGltZ09ic2VydmVyKSA9PiB7XHJcbiAgZW50cmllcy5mb3JFYWNoKCh7IHRhcmdldCwgaXNJbnRlcnNlY3RpbmcgfSkgPT4ge1xyXG4gICAgaWYoIWlzSW50ZXJzZWN0aW5nKXsvKtGN0LvQtdC80LXQvdGC0Ysg0L3QtSDQv9C10YDQtdGB0LXQutCw0Y7RgiDQs9GA0LDQvdC40YbRgy4gZmFsc2UgKi9cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGFyZ2V0LnNyYyA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKTtcclxuICAgIGltZ09ic2VydmVyLnVub2JzZXJ2ZSh0YXJnZXQpXHJcbiAgfSlcclxufSwgaW1nT3B0aW9uKTtcclxuXHJcblxyXG5pbWFnZUlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gIGltZ09ic2VydmVyLm9ic2VydmUoaXRlbSk7XHJcbn0pOyIsIlxyXG5leHBvcnQgZnVuY3Rpb24gcG9wdXAocG9wdXBFbCwgYnRuT3Blbiwgb3B0aW9uID0ge25vQmxvY2tFbDogJycsIHNjcm9sbE9mZjogZmFsc2UsIG9wZW5lZDogJycsIGNsb3Npbmc6ICcnfSl7XHJcblxyXG4gIGxldCBjbG9zZSA9IHBvcHVwRWwucXVlcnlTZWxlY3RvcihgIyR7cG9wdXBFbC5pZH0tY2xvc2VgKTtcclxuICBsZXQgc2F2ZVNjcm9sbFRvVGhlT3BlbjtcclxuICBcclxuICBidG5PcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblByaWNlKTtcclxuICBwb3B1cEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQcmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIG9wZW5QcmljZShldikge1xyXG4gICAgcG9wdXBFbC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7IFxyXG4gIFxyXG4gICAgc2F2ZVNjcm9sbFRvVGhlT3BlbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgbG9ja1Njcm9sbCgpO1xyXG4gICAgaWYodHlwZW9mIG9wdGlvbi5vcGVuZWQgPT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgIG9wdGlvbi5vcGVuZWQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xvc2VQcmljZShldikge1xyXG5cclxuICAgIGlmKGV2LnRhcmdldCA9PSBwb3B1cEVsIHx8IGV2LnRhcmdldCA9PSBjbG9zZSl7XHJcbiAgIFxyXG4gICAgICBwb3B1cEVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgXHJcbiAgICAgIHVubG9ja1Njcm9sbCgpXHJcbiAgICAgIGlmKHR5cGVvZiBvcHRpb24uY2xvc2luZyA9PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICBvcHRpb24uY2xvc2luZygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4vKiMjIyMjIyMtLS0tLS0tLS08eyBDb250cm9sIFNjcm9sbH0+LS0tLS0tLS0tIyMjIyMjIyMjIyovXHJcbiAgZnVuY3Rpb24gbG9ja1Njcm9sbCgpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGV2V2hlZWwsIHsgcGFzc2l2ZTogZmFsc2UgfSlcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBldlNjcm9sbCkgXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1bmxvY2tTY3JvbGwoKSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBldldoZWVsLCB7IHBhc3NpdmU6IGZhbHNlIH0pXHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZXZTY3JvbGwpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBldldoZWVsKGV2KSB7XHJcbiAgICBpZih0eXBlb2Ygb3B0aW9uLm5vQmxvY2tFbCA9PSAnb2JqZWN0Jyl7XHJcbiAgICAgIGlmKCFvcHRpb24ubm9CbG9ja0VsLmNvbnRhaW5zKGV2LnRhcmdldCkpe1xyXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7IHJldHVybjsgXHJcbiAgICAgIH1cclxuICAgIH1lbHNlIGlmKG9wdGlvbi5zY3JvbGxPZmYpe1xyXG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm47IFxyXG4gICAgfVxyXG4gICAgY29uc29sZS5kaXIoXCJldldoZWVsXCIpO1xyXG4gICAgdGhpcy5zY3JvbGxUbygwLCBzYXZlU2Nyb2xsVG9UaGVPcGVuKTtcclxuICB9IFxyXG5cclxuICBmdW5jdGlvbiBldlNjcm9sbChldikge1xyXG4gICAgY29uc29sZS5kaXIoXCJldlNjcm9sbFwiKTtcclxuICAgIHRoaXMuc2Nyb2xsVG8oMCwgc2F2ZVNjcm9sbFRvVGhlT3BlbilcclxuICB9IFxyXG59XHJcblxyXG5cclxuXHJcbiIsImV4cG9ydCBmdW5jdGlvbiBwcmVsb2FkZXJUYWJsZSgpe1xyXG4gIHJldHVybiBgPGRpdiBpZD1cInByZWxvYWRlclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibG9hZGVyXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5gO1xyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBwcmVsb2FkZXJUYWJsZSB9IGZyb20gJy4vcHJlbG9hZGVyJztcclxuaW1wb3J0IHsgcG9wdXAgfSBmcm9tICcuL3BvcHVwJztcclxubGV0IHsgcHJvdG9jb2wsIGhvc3QgfSA9IGxvY2F0aW9uO1xyXG5cclxubGV0IHByaWNlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLXBvcHVwLXBsLW9wZW4nKTtcclxubGV0IHByaWNlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1wb3B1cC1wbCcpO1xyXG5sZXQgcHJpY2VUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1wLXRhYmxlJyk7XHJcbmxldCB0YWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanMtcC10YWJsZUJvZHknKTtcclxuXHJcbnBvcHVwKHByaWNlTGlzdCwgcHJpY2VCdG4sIHtub0Jsb2NrRWw6IHByaWNlVGFibGUsIG9wZW5lZDogYWpheFJlcXVlc3RUYWJsZX0pXHJcblxyXG4vKiMjIyMjIyMjLS0tLS0tLS0tPHsgTWFpbiBGdW5jdGlvbiB9Pi0tLS0tLS0tLSMjIyMjIyMjIyovXHJcbmNvbnNvbGUuZGlyKGAke3Byb3RvY29sfS8vJHtob3N0fS90YWJsZWApO1xyXG5mdW5jdGlvbiBhamF4UmVxdWVzdFRhYmxlKCl7XHJcbiAgaWYoIXRhYmxlQm9keS5jaGlsZHJlbi5sZW5ndGgpe1xyXG4gICAgdGFibGVCb2R5LmlubmVySFRNTCA9IHByZWxvYWRlclRhYmxlKCk7XHJcbiAgICBmZXRjaChgJHtwcm90b2NvbH0vLyR7aG9zdH0vdGFibGVgKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IGRhdGEuanNvbigpKVxyXG4gICAgLnRoZW4oKGRhdGEpPT57XHJcbiAgICAgIHRhYmxlQm9keS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgcmVuZGVyVGFibGUoZGF0YSk7XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCkgPT57XHJcbiAgICAgIGhhbmdUaGVGdW5jdGlvbmFsaXR5KCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgdGFibGVCb2R5LnRleHRDb250ZW50ID0gZXJyO1xyXG4gICAgfSlcclxuICB9ZWxzZSBjb25zb2xlLmRpcign0JTQsNC90L3Ri9C1INGD0LbQtSDQt9Cw0LPRgNGD0LbQtdC90YsnKTsgXHJcbn1cclxuXHJcblxyXG4vKiMjIyMjIyMtLS0tLS08eyByZW5kZXJUYWJsZSBhbmQgaGFuZ1RoZUZ1bmN0aW9uYWxpdHkgfT4tLS0tLS0tLSMjIyMjIyMqL1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyVGFibGUoZGF0YSl7XHJcbiAgZm9yIChjb25zdCBhcnJUYWJsZXMgb2YgZGF0YSkge1xyXG4gICAgXHJcbiAgICBpZihOdW1iZXIoYXJyVGFibGVzLmlkKSA9PT0gMSkgeyAgXHJcbiAgICAgIHRhYmxlQm9keS5pbm5lckhUTUwgKz0gIFxyXG4gICAgIGA8dHIgY2xhc3M9XCJwcmljZS1saXN0X19yb3ctaGVhZC10aXRsZVwiID5cclxuICAgICAgICA8dGggY2xhc3M9XCJwcmljZS1saXN0X19jZWxsLWhlYWQtdGl0bGVcIiBjb2xzcGFuPVwiNFwiPiR7YXJyVGFibGVzLnNlcnZpY2VzfTwvdGg+XHJcbiAgICAgIDwvdHI+XHJcbiAgICAgICAgPHRyIGNsYXNzPVwicHJpY2UtbGlzdF9fcm93LWluZm9cIiA+XHJcbiAgICAgICAgICA8dGQgY2xhc3M9XCJwcmljZS1saXN0X19jZWxsLWluZm9cIj7QndCw0LjQvNC10L3QvtCy0LDQvdC40LU8L3RkPlxyXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHJpY2UtbGlzdF9fY2VsbC1pbmZvXCI+0JXQtC7QuNC30LwuPC90ZD5cclxuICAgICAgICAgIDx0ZCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGwtaW5mb1wiPtCm0LXQvdCwKNGA0YPQsS4pPC90ZD5cclxuICAgICAgICAgIDx0ZCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGwtaW5mb1wiPtCa0L7Quy3QstC+PC90ZD5cclxuICAgICAgICAgIDx0ZCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGwtaW5mb1wiPtCh0YPQvNC80LA8L3RkPlxyXG4gICAgICAgIDwvdHI+YDtcclxuICAgIH1lbHNlIHtcclxuICAgICAgdGFibGVCb2R5LmlubmVySFRNTCArPSAgXHJcbiAgICAgYDx0ciBjbGFzcz1cInByaWNlLWxpc3RfX3Jvd1wiPlxyXG4gICAgICAgIDx0ZCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGxcIj4ke2FyclRhYmxlcy5zZXJ2aWNlc308L3RkPlxyXG4gICAgICAgIDx0ZCBjbGFzcz1cInByaWNlLWxpc3RfX2NlbGxcIj4ke2FyclRhYmxlcy51bml0fTwvdGQ+XHJcbiAgICAgICAgPHRkIGNsYXNzPVwicHJpY2UtbGlzdF9fY2VsbCBqcy1wLXJ1YlwiPiR7YXJyVGFibGVzLnByaWNlfTwvdGQ+XHJcbiAgICAgICAgPHRkIGNsYXNzPVwicHJpY2UtbGlzdF9fY2VsbFwiPlxyXG4gICAgICAgICAgPGlucHV0IGNsYXNzPVwicHJpY2UtbGlzdF9faW5wdXQganMtcC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImRhdGFDZWxsXCI+XHJcbiAgICAgICAgPC90ZD5cclxuICAgICAgICA8dGQgY2xhc3M9XCJwcmljZS1saXN0X19jZWxsIGpzLXAtc3VtXCI+MDwvdGQ+XHJcbiAgICAgIDwvdHI+YDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmdUaGVGdW5jdGlvbmFsaXR5KCl7XHJcbiAgbGV0IHByaWNlUnVibGVzQ2VsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1wLXJ1YicpO1xyXG4gIGxldCBwcmljZUlucHV0Q2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcC1pbnB1dCcpO1xyXG4gIGxldCBwcmljZVN1bUNlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcC1zdW0nKTtcclxuICBsZXQgcHJpY2VSZXN1bHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanMtcC1yZXN1bHQnKTtcclxuICBsZXQgYXJyTnVtYmVycyA9IFtdO1xyXG4gIFxyXG4gIHByaWNlSW5wdXRDZWxscy5mb3JFYWNoKChpdGVtLCBpbngpID0+IHtcclxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBjaGFuZ2VJbnB1dC5iaW5kKGl0ZW0sIGlueCkpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGZ1bmN0aW9uIGNoYW5nZUlucHV0KGlueCwgZXYpIHtcclxuICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7Ly9ibG9ja2luZyBjaGFyYWN0ZXIgaW5wdXRcclxuICAgIC8v0LfQsNC/0LXRgNC70LggaW54INCyINC30LDQvNGL0LrQsNC90LjQuCDQv9GA0LjQstGP0LfQsNCyIGlucHV0INC6INC40L3QtNC10LrRgdCw0Lwg0LzQsNGB0YHQuNCy0LAuXHJcbiAgICBwcmljZVN1bUNlbGxbaW54XS50ZXh0Q29udGVudCA9IGFyck51bWJlcnNbaW54XSA9IGdldFN1bUlucHV0cyh0aGlzLnZhbHVlLCBpbngpO1xyXG4gICAgcHJpY2VSZXN1bHQudGV4dENvbnRlbnQgPSBnZXRSZXN1bHQoYXJyTnVtYmVycyk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldFN1bUlucHV0cyh2YWwsIGlueCl7XHJcbiAgICByZXR1cm4gK3ByaWNlUnVibGVzQ2VsbFtpbnhdLnRleHRDb250ZW50ICogK3ZhbFxyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZXRSZXN1bHQoYXJyKXtcclxuICAgIHJldHVybiBhcnIucmVkdWNlKChwcmV2LCBudW0pID0+IChwcmV2ICs9ICtudW0pLCAwKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCJsZXQgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLW0tbmFtZScpO1xyXG5sZXQgaW5wdXRQaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1tLXBob25lJyk7XHJcbmxldCB0ZXh0QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1tLXRleHRhcmVhJyk7XHJcblxyXG5sZXQgc3RhdGUgPSB7XHJcbiAgW2lucHV0TmFtZS5uYW1lXTogeyBtaW46IDIsIG1heDogMTUsIHN0YXR1czogZmFsc2UsIGxlbmd0aDogMCwgdmFsdWU6ICcnIH0sXHJcbiAgW2lucHV0UGhvbmUubmFtZV06IHsgbWluOiAxOCwgbWF4OiAxOCwgc3RhdHVzOiBmYWxzZSwgbGVuZ3RoOiAwLCB2YWx1ZTogJycgfSxcclxuICBbdGV4dEFyZWEubmFtZV06IHsgbWluOiAxMCwgbWF4OiA0MDAsIHN0YXR1czogZmFsc2UsIGxlbmd0aDogMCwgdmFsdWU6ICcnIH0sXHJcbn07XHJcblxyXG5baW5wdXROYW1lLCBpbnB1dFBob25lLCB0ZXh0QXJlYV0uZm9yRWFjaCgoaXRlbSkgPT4geyBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgY2hlY2tJbkFsbCkgfSk7XHJcblxyXG50ZXh0QXJlYS5jcmVhdGVDb3VudCgnbWFpbC1wb3B1cF9fZm9ybS1jb3VudCcsIHN0YXRlW3RleHRBcmVhLm5hbWVdLm1heCwgeyBlbGVtZW50OiB0ZXh0QXJlYS5wYXJlbnRFbGVtZW50IH0pXHJcblxyXG5mdW5jdGlvbiBjaGVja0luQWxsKGV2KXtcclxuICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gXHJcbiAgaWYodGhpcyA9PT0gaW5wdXROYW1lIHx8IHRoaXMgPT09IHRleHRBcmVhKXtcclxuICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1slPD4mXXwoc2NyaXB0KS9nLCAnJyk7XHJcblxyXG4gICAgaWYodGhpcyA9PT0gdGV4dEFyZWEpIHRoaXMudXBkYXRlQ291bnQoKTtcclxuICB9XHJcblxyXG4gIGlmKHRoaXMgPT0gaW5wdXRQaG9uZSkgbWFza0lucHV0KHRoaXMsIGV2KTtcclxuICBtYXhNaW4odGhpcyk7XHJcbiAgXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1heE1pbihlbCl7XHJcblxyXG4gIGxldCBzdGF0ZUl0ZW0gPSBzdGF0ZVtlbC5uYW1lXTtcclxuXHJcbiAgaWYoZWwudmFsdWUubGVuZ3RoID49IHN0YXRlSXRlbS5taW4gJiYgc3RhdGVJdGVtLmxlbmd0aCA8PSBzdGF0ZUl0ZW0ubWF4KXtcclxuICAgIHN0YXRlSXRlbS5zdGF0dXMgPSB0cnVlO1xyXG4gICAgZWwuc3R5bGUuYW5pbWF0aW9uTmFtZSA9ICdnbG93SW5wdXRTdWNjZXNzJztcclxuICAgIFxyXG4gIH1lbHNle1xyXG4gICAgc3RhdGVJdGVtLnN0YXR1cyA9IGZhbHNlO1xyXG4gICAgZWwuc3R5bGUuYW5pbWF0aW9uTmFtZSA9ICdnbG93SW5wdXRFcnJvcic7XHJcbiAgfVxyXG4gIGlmKGVsLnZhbHVlLmxlbmd0aCA+IHN0YXRlSXRlbS5tYXgpe1xyXG4gICAgZWwudmFsdWUgPSBlbC52YWx1ZS5zbGljZSgwLCBzdGF0ZUl0ZW0ubWF4KTtcclxuICB9ZWxzZXtcclxuICAgIHN0YXRlSXRlbS5sZW5ndGggPSBlbC52YWx1ZS5sZW5ndGg7XHJcbiAgICBzdGF0ZUl0ZW0udmFsdWUgPSBlbC52YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hc2tJbnB1dChlbCwgZXYpIHtcclxuICBsZXQgaW5wdXQgPSBlbDtcclxuICBsZXQgbWFzayA9IGlucHV0LmRhdGFzZXQubWFzaztcclxuICBsZXQgdmFsdWUgPSBpbnB1dC52YWx1ZTtcclxuICBsZXQgbGl0ZXJhbFBhdHRlcm4gPSAvWzBcXCpdLztcclxuICBsZXQgbnVtYmVyUGF0dGVybiA9IC9bMC05XS9naTsvLys3ICgwMDApIDAwMC0wMC0wMC8vXFwrN1xcc1xcKDlcXGR7Mn1cXClcXHNcXGR7M30tXFxkezJ9LVxcZHsyfVxyXG4gIGxldCBuZXdWYWx1ZSA9IFwiXCI7XHJcbiAgaWYoL1xcRC8udGVzdChldi5kYXRhKSl7XHJcbiAgICBcclxuICAgIGVsLnZhbHVlID0gZWwudmFsdWUucmVwbGFjZShldi5kYXRhLCAnJyk7IFxyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICBcclxuICB0cnkge1xyXG4gICAgbGV0IG1hc2tMZW5ndGggPSBtYXNrLmxlbmd0aDtcclxuICAgIGxldCB2YWx1ZUluZGV4ID0gMDtcclxuICAgIGxldCBtYXNrSW5kZXggPSAwO1xyXG4gXHJcbiAgICBmb3IgKDsgbWFza0luZGV4IDwgbWFza0xlbmd0aDspIHtcclxuICAgICAgaWYgKG1hc2tJbmRleCA+PSB2YWx1ZS5sZW5ndGgpIGJyZWFrO1xyXG4gICAgICBcclxuICAgICAgaWYgKG1hc2tbbWFza0luZGV4XSA9PT0gXCIwXCIgJiYgdmFsdWVbdmFsdWVJbmRleF0ubWF0Y2gobnVtYmVyUGF0dGVybikgPT09IG51bGwpIGJyZWFrO1xyXG5cclxuICAgICAgLy8gRm91bmQgYSBsaXRlcmFsXHJcbiAgICAgIHdoaWxlIChtYXNrW21hc2tJbmRleF0ubWF0Y2gobGl0ZXJhbFBhdHRlcm4pID09PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlW3ZhbHVlSW5kZXhdID09PSBtYXNrW21hc2tJbmRleF0pIGJyZWFrO1xyXG4gICAgICAgIG5ld1ZhbHVlICs9IG1hc2tbbWFza0luZGV4KytdO1xyXG4gICAgICB9XHJcbiAgICAgIG5ld1ZhbHVlICs9IHZhbHVlW3ZhbHVlSW5kZXgrK107XHJcbiAgICAgIG1hc2tJbmRleCsrO1xyXG4gICAgfVxyXG5cclxuICAgIGlucHV0LnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coZSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHsgc3RhdGUgfTtcclxuXHJcbi8vXlsrXFxkXSpbKF1cXGR7M31bKV1cXGR7M30tXFxkezJ9LVxcZHsyfS9nIiwiaW1wb3J0IHsgcG9wdXAgfSBmcm9tICcuLi9wb3B1cCc7XHJcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSAnLi9jaGVjay1pbic7XHJcbmxldCB7IHByb3RvY29sLCBob3N0bmFtZSB9ID0gbG9jYXRpb247XHJcblxyXG5sZXQgcG9wdXBNYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLXBvcHVwLW1haWwnKTtcclxubGV0IHBvcHVwT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqcy1wb3B1cC1tYWlsLW9wZW4nKTtcclxubGV0IG1haWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLW0tZm9ybScpXHJcblxyXG5wb3B1cChwb3B1cE1haWwsIHBvcHVwT3Blbiwge3Njcm9sbE9mZjogdHJ1ZSwgY2xvc2luZzogcmVzZXRGb3JtfSk7XHJcblxyXG5tYWlsRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBzZW5kTWFpbCk7XHJcblxyXG5mdW5jdGlvbiBzZW5kTWFpbChldil7XHJcbiAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICBcclxuICBpZighT2JqZWN0LnZhbHVlcyhzdGF0ZSkuZXZlcnkoKGl0ZW0pID0+IGl0ZW0uc3RhdHVzKSl7IHJldHVybjsgfVxyXG5cclxuICBmZXRjaChgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9L21haWxgLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGJvZHk6IG5ldyBGb3JtRGF0YSh0aGlzKVxyXG4gIH0pXHJcbiAgLnRoZW4oKGRhdGEpID0+IGRhdGEuanNvbigpKVxyXG4gIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICBzdWNjZXNzKEpTT04uc3RyaW5naWZ5KGRhdGEpKVxyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUuZGlyKGVycik7XHJcbiAgfSlcclxuXHJcbn1cclxuXHJcbmxldCBtc2cgPSBgPGRpdiBjbGFzcz1cIm1haWwtcG9wdXBfX2Zvcm0tc3VjY2Vzcy1tc2dcIj7Qn9C40YHRjNC80L4g0LTQvtGB0YLQsNCy0LvQtdC90L48L2Rpdj5gO1xyXG5cclxuZnVuY3Rpb24gc3VjY2VzcyhkYXRhKXtcclxuICBjb25zb2xlLmluZm8oZGF0YSk7XHJcbiAgbWFpbEZvcm0uY2xhc3NMaXN0LmFkZCgnbWFpbC1wb3B1cF9fZm9ybS0tc3VjY2VzcycpO1xyXG4gIGxldCB0aW1pbmcgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUobWFpbEZvcm0pLnRyYW5zaXRpb25EdXJhdGlvbik7XHJcblxyXG4gIHNldFRpbWVvdXQoKCk9PntcclxuICAgIG1haWxGb3JtLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBtc2cpLy9KU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gIH0sIHRpbWluZyAqIDEwMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldEZvcm0oKXtcclxuICBsZXQgZWxTdWNjZXNzTXNnID0gbWFpbEZvcm0ubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gIGlmKGVsU3VjY2Vzc01zZyAmJiBlbFN1Y2Nlc3NNc2cubWF0Y2hlcygnLm1haWwtcG9wdXBfX2Zvcm0tc3VjY2Vzcy1tc2cnKSl7XHJcbiAgICBtYWlsRm9ybS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsU3VjY2Vzc01zZyk7XHJcbiAgICBtYWlsRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlsLXBvcHVwX19mb3JtLS1zdWNjZXNzJyk7XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWFpbEZvcm0ubGVuZ3RoIC0gMTsgaSsrKXtcclxuICAgICAgbWFpbEZvcm1baV0udmFsdWUgPSAnJztcclxuICAgICAgaWYobWFpbEZvcm1baV0udXBkYXRlQ291bnQpe1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygn0KHRh9GR0YLRh9C40Log0KHQsdGA0L7RiNC10L0nKTtcclxuICAgICAgICBtYWlsRm9ybVtpXS51cGRhdGVDb3VudCgpO1xyXG4gICAgICB9XHJcbiAgICAgXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpe1xyXG5cclxudmFyIG11bHRpSXRlbVNsaWRlciA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgRWxlbWVudC5wcm90b3R5cGUuY19xdWVyeVNlbGVjdG9yID0gZnVuY3Rpb24gKHNlbGVjdE9yUmVnRXhwLCBmbGFnID0gZmFsc2Upe1xyXG4gICAgXHJcbiAgICAgIGlmKHNlbGVjdE9yUmVnRXhwLmNvbnN0cnVjdG9yID09PSBSZWdFeHAucHJvdG90eXBlLmNvbnN0cnVjdG9yICYmIGZsYWcpe1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5jaGlsZHJlbl0uZmluZCgoaXRlbSkgPT4gc2VsZWN0T3JSZWdFeHAudGVzdChpdGVtLmNsYXNzTmFtZSkpO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdE9yUmVnRXhwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBFbGVtZW50LnByb3RvdHlwZS5jX3F1ZXJ5U2VsZWN0b3JBbGwgPSBmdW5jdGlvbiAoc2VsZWN0T3JSZWdFeHAsIGZsYWcgPSBmYWxzZSl7XHJcbiAgXHJcbiAgICAgIGlmKHNlbGVjdE9yUmVnRXhwLmNvbnN0cnVjdG9yID09PSBSZWdFeHAucHJvdG90eXBlLmNvbnN0cnVjdG9yICYmIGZsYWcpe1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5jaGlsZHJlbl0uZmlsdGVyKChpdGVtKSA9PiBzZWxlY3RPclJlZ0V4cC50ZXN0KGl0ZW0uY2xhc3NOYW1lKSk7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0T3JSZWdFeHApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2lzRWxlbWVudFZpc2libGUoZWxlbWVudCkge1xyXG4gICAgICAvLyDQstC+0LfQvNC+0LbQvdC+INC/0L7RgtGA0LXQsdGD0LXRgtGB0Y8g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0Y3Qu9C10LzQtdC90YLRgyB6LWluZGV4OjBcclxuICAgICAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgIHZXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsXHJcbiAgICAgICAgdkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxcclxuICAgICAgICBlbGVtRnJvbVBvaW50ID0gZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSkgfTtcclxuICAgICAgaWYgKHJlY3QucmlnaHQgPCAwIHx8IHJlY3QuYm90dG9tIDwgMFxyXG4gICAgICAgIHx8IHJlY3QubGVmdCA+IHZXaWR0aCB8fCByZWN0LnRvcCA+IHZIZWlnaHQpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIGVsZW1lbnQuY29udGFpbnMoZWxlbUZyb21Qb2ludChyZWN0LmxlZnQsIHJlY3QudG9wKSlcclxuICAgICAgICB8fCBlbGVtZW50LmNvbnRhaW5zKGVsZW1Gcm9tUG9pbnQocmVjdC5yaWdodCwgcmVjdC50b3ApKVxyXG4gICAgICAgIHx8IGVsZW1lbnQuY29udGFpbnMoZWxlbUZyb21Qb2ludChyZWN0LnJpZ2h0LCByZWN0LmJvdHRvbSkpXHJcbiAgICAgICAgfHwgZWxlbWVudC5jb250YWlucyhlbGVtRnJvbVBvaW50KHJlY3QubGVmdCwgcmVjdC5ib3R0b20pKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbmZpZykgeyBcclxuICAgICAgdmFyXHJcbiAgICAgICAgX21haW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXHJcbiAgICAgICAgX3NsaWRlcldyYXBwZXIgPSBfbWFpbkVsZW1lbnQuY19xdWVyeVNlbGVjdG9yKC8uK2l0ZW1zLywgdHJ1ZSksXHJcbiAgICAgICAgX3NsaWRlckl0ZW1zID0gX3NsaWRlcldyYXBwZXIuY19xdWVyeVNlbGVjdG9yQWxsKC8uK2l0ZW0vLCB0cnVlKSxcclxuICAgICAgICBfc2xpZGVyQ29udHJvbHMgPSBfbWFpbkVsZW1lbnQuY19xdWVyeVNlbGVjdG9yQWxsKC8uK2NvbnRyb2wvLCB0cnVlKSxcclxuICAgICAgICBfc2xpZGVyQ29udHJvbExlZnQgPSBfbWFpbkVsZW1lbnQuY19xdWVyeVNlbGVjdG9yKC8uK2NvbnRyb2xfbGVmdC8sIHRydWUpLFxyXG4gICAgICAgIF9zbGlkZXJDb250cm9sUmlnaHQgPSBfbWFpbkVsZW1lbnQuY19xdWVyeVNlbGVjdG9yKC8uK2NvbnRyb2xfcmlnaHQvLCB0cnVlKSxcclxuXHJcbiAgICAgICAgX3dyYXBwZXJXaWR0aCA9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZShfc2xpZGVyV3JhcHBlcikud2lkdGgpLFxyXG4gICAgICAgIF9pdGVtV2lkdGggPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoX3NsaWRlckl0ZW1zWzBdKS53aWR0aCksXHJcbiAgICAgICAgX2h0bWwgPSBfbWFpbkVsZW1lbnQuaW5uZXJIVE1MO1xyXG4gICAgICBcclxuICAgICAgbGV0XHJcbiAgICAgICAgX2luZGV4SW5kaWNhdG9yID0gMCxcclxuICAgICAgICBfbWF4SW5kZXhJbmRpY2F0b3IgPSBfc2xpZGVySXRlbXMubGVuZ3RoIC0gMSxcclxuICAgICAgICBfaW5kaWNhdG9ySXRlbXMsXHJcbiAgICAgICAgXHJcbiAgICAgICAgX3Bvc2l0aW9uTGVmdEl0ZW0gPSAwLFxyXG4gICAgICAgIF90cmFuc2Zvcm0gPSAwLFxyXG4gICAgICAgIF9zdGVwID0gX2l0ZW1XaWR0aCAvIF93cmFwcGVyV2lkdGggKiAxMDAsXHJcbiAgICAgICAgX2l0ZW1zID0gW10sXHJcbiAgICAgICAgX2ludGVydmFsID0gMCxcclxuICAgICAgICBfc3RhdGVzID0gW1xyXG4gICAgICAgICAgeyBhY3RpdmU6IGZhbHNlLCBtaW5XaWR0aDogMCwgY291bnQ6IDEgfSxcclxuICAgICAgICAgIHsgYWN0aXZlOiBmYWxzZSwgbWluV2lkdGg6IDU3NiwgY291bnQ6IDIgfSxcclxuICAgICAgICAgIHsgYWN0aXZlOiBmYWxzZSwgbWluV2lkdGg6IDk5MiwgY291bnQ6IDMgfSxcclxuICAgICAgICAgIHsgYWN0aXZlOiBmYWxzZSwgbWluV2lkdGg6IDEyMDAsIGNvdW50OiA0IH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICBfY29uZmlnID0ge1xyXG4gICAgICAgICAgaXNDeWNsaW5nOiBmYWxzZSxcclxuICAgICAgICAgIGRpcmVjdGlvbjogJ3JpZ2h0JyxcclxuICAgICAgICAgIGludGVydmFsOiA1MDAwLFxyXG4gICAgICAgICAgcGF1c2U6IHRydWVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgZm9yICh2YXIga2V5IGluIGNvbmZpZykge1xyXG4gICAgICAgIGlmIChrZXkgaW4gX2NvbmZpZykge1xyXG4gICAgICAgICAgX2NvbmZpZ1trZXldID0gY29uZmlnW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBfc2xpZGVySXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICBfaXRlbXMucHVzaCh7IGl0ZW06IGl0ZW0sIHBvc2l0aW9uOiBpbmRleCwgdHJhbnNmb3JtOiAwIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZhciBfc2V0QWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfaW5kZXggPSAwO1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgX3N0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCwgYXJyKSB7XHJcbiAgICAgICAgICBfc3RhdGVzW2luZGV4XS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgIGlmICh3aWR0aCA+PSBfc3RhdGVzW2luZGV4XS5taW5XaWR0aClcclxuICAgICAgICAgICAgX2luZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX3N0YXRlc1tfaW5kZXhdLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBfZ2V0QWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfaW5kZXg7XHJcbiAgICAgICAgX3N0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCwgYXJyKSB7XHJcbiAgICAgICAgICBpZiAoX3N0YXRlc1tpbmRleF0uYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIF9pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfaW5kZXg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBwb3NpdGlvbiA9IHtcclxuICAgICAgICBnZXRJdGVtTWluOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgaW5kZXhJdGVtID0gMDtcclxuICAgICAgICAgIF9pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5wb3NpdGlvbiA8IF9pdGVtc1tpbmRleEl0ZW1dLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgaW5kZXhJdGVtID0gaW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGluZGV4SXRlbTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldEl0ZW1NYXg6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBpbmRleEl0ZW0gPSAwO1xyXG4gICAgICAgICAgX2l0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnBvc2l0aW9uID4gX2l0ZW1zW2luZGV4SXRlbV0ucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICBpbmRleEl0ZW0gPSBpbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gaW5kZXhJdGVtO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0TWluOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gX2l0ZW1zW3Bvc2l0aW9uLmdldEl0ZW1NaW4oKV0ucG9zaXRpb247XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRNYXg6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiBfaXRlbXNbcG9zaXRpb24uZ2V0SXRlbU1heCgpXS5wb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBfdHJhbnNmb3JtSXRlbSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcclxuICAgICAgICB2YXIgbmV4dEl0ZW0sIGN1cnJlbnRJbmRpY2F0b3IgPSBfaW5kZXhJbmRpY2F0b3I7XHJcbiAgICAgICAgLy8gY29uc29sZS5kaXIoX2lzRWxlbWVudFZpc2libGUoX21haW5FbGVtZW50KSk7IFxyXG4gICAgICAgIC8vIGlmICghX2lzRWxlbWVudFZpc2libGUoX21haW5FbGVtZW50KSkge1xyXG4gICAgICAgIC8vICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICBfcG9zaXRpb25MZWZ0SXRlbSsrO1xyXG4gICAgICAgICAgaWYgKChfcG9zaXRpb25MZWZ0SXRlbSArIF93cmFwcGVyV2lkdGggLyBfaXRlbVdpZHRoIC0gMSkgPiBwb3NpdGlvbi5nZXRNYXgoKSkge1xyXG4gICAgICAgICAgICBuZXh0SXRlbSA9IHBvc2l0aW9uLmdldEl0ZW1NaW4oKTtcclxuICAgICAgICAgICAgX2l0ZW1zW25leHRJdGVtXS5wb3NpdGlvbiA9IHBvc2l0aW9uLmdldE1heCgpICsgMTtcclxuICAgICAgICAgICAgX2l0ZW1zW25leHRJdGVtXS50cmFuc2Zvcm0gKz0gX2l0ZW1zLmxlbmd0aCAqIDEwMDtcclxuICAgICAgICAgICAgX2l0ZW1zW25leHRJdGVtXS5pdGVtLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKCcgKyBfaXRlbXNbbmV4dEl0ZW1dLnRyYW5zZm9ybSArICclKSc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBfdHJhbnNmb3JtIC09IF9zdGVwO1xyXG4gICAgICAgICAgX2luZGV4SW5kaWNhdG9yID0gX2luZGV4SW5kaWNhdG9yICsgMTtcclxuICAgICAgICAgIGlmIChfaW5kZXhJbmRpY2F0b3IgPiBfbWF4SW5kZXhJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgX2luZGV4SW5kaWNhdG9yID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICBfcG9zaXRpb25MZWZ0SXRlbS0tO1xyXG4gICAgICAgICAgaWYgKF9wb3NpdGlvbkxlZnRJdGVtIDwgcG9zaXRpb24uZ2V0TWluKCkpIHtcclxuICAgICAgICAgICAgbmV4dEl0ZW0gPSBwb3NpdGlvbi5nZXRJdGVtTWF4KCk7XHJcbiAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0ucG9zaXRpb24gPSBwb3NpdGlvbi5nZXRNaW4oKSAtIDE7XHJcbiAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0udHJhbnNmb3JtIC09IF9pdGVtcy5sZW5ndGggKiAxMDA7XHJcbiAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0uaXRlbS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgX2l0ZW1zW25leHRJdGVtXS50cmFuc2Zvcm0gKyAnJSknO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgX3RyYW5zZm9ybSArPSBfc3RlcDtcclxuICAgICAgICAgIF9pbmRleEluZGljYXRvciA9IF9pbmRleEluZGljYXRvciAtIDE7XHJcbiAgICAgICAgICBpZiAoX2luZGV4SW5kaWNhdG9yIDwgMCkge1xyXG4gICAgICAgICAgICBfaW5kZXhJbmRpY2F0b3IgPSBfbWF4SW5kZXhJbmRpY2F0b3I7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9zbGlkZXJXcmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKCcgKyBfdHJhbnNmb3JtICsgJyUpJztcclxuICAgICAgICBfaW5kaWNhdG9ySXRlbXNbY3VycmVudEluZGljYXRvcl0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgX2luZGljYXRvckl0ZW1zW19pbmRleEluZGljYXRvcl0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBfc2xpZGVUbyA9IGZ1bmN0aW9uICh0bykge1xyXG4gICAgICAgIHZhciBpID0gMCwgZGlyZWN0aW9uID0gKHRvID4gX2luZGV4SW5kaWNhdG9yKSA/ICdyaWdodCcgOiAnbGVmdCc7XHJcbiAgICAgICAgd2hpbGUgKHRvICE9PSBfaW5kZXhJbmRpY2F0b3IgJiYgaSA8PSBfbWF4SW5kZXhJbmRpY2F0b3IpIHtcclxuICAgICAgICAgIF90cmFuc2Zvcm1JdGVtKGRpcmVjdGlvbik7XHJcbiAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgX2N5Y2xlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xyXG4gICAgICAgIGlmICghX2NvbmZpZy5pc0N5Y2xpbmcpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgX3RyYW5zZm9ybUl0ZW0oZGlyZWN0aW9uKTtcclxuICAgICAgICB9LCBfY29uZmlnLmludGVydmFsKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIF9jb250cm9sQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9fY29udHJvbCcpKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZXJfX2NvbnRyb2xfcmlnaHQnKSA/ICdyaWdodCcgOiAnbGVmdCc7XHJcbiAgICAgICAgICBfdHJhbnNmb3JtSXRlbShkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChfaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgX2N5Y2xlKF9jb25maWcuZGlyZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zbGlkZS10bycpKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBfc2xpZGVUbyhwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xpZGUtdG8nKSkpO1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChfaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgX2N5Y2xlKF9jb25maWcuZGlyZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgX2hhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChfaW50ZXJ2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKF9pbnRlcnZhbCk7XHJcbiAgICAgICAgICBfY3ljbGUoX2NvbmZpZy5kaXJlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIF9yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoX2ludGVydmFsKTtcclxuICAgICAgICBfbWFpbkVsZW1lbnQuaW5uZXJIVE1MID0gX2h0bWw7XHJcblxyXG4gICAgICAgIF9zbGlkZXJXcmFwcGVyID0gX21haW5FbGVtZW50LmNfcXVlcnlTZWxlY3RvcigvLitpdGVtcy8sIHRydWUpO1xyXG4gICAgICAgIF9zbGlkZXJJdGVtcyA9IF9zbGlkZXJXcmFwcGVyLmNfcXVlcnlTZWxlY3RvckFsbCgvLitpdGVtLywgdHJ1ZSk7XHJcbiAgICAgICAgX3NsaWRlckNvbnRyb2xzID0gX21haW5FbGVtZW50LmNfcXVlcnlTZWxlY3RvckFsbCgvLitjb250cm9sLywgdHJ1ZSk7XHJcbiAgICAgICAgX3NsaWRlckNvbnRyb2xMZWZ0ID0gX21haW5FbGVtZW50LmNfcXVlcnlTZWxlY3RvcigvLitjb250cm9sX2xlZnQvLCB0cnVlKTtcclxuICAgICAgICBfc2xpZGVyQ29udHJvbFJpZ2h0ID0gX21haW5FbGVtZW50LmNfcXVlcnlTZWxlY3RvcigvLitjb250cm9sX3JpZ2h0LywgdHJ1ZSk7XHJcbiAgICAgICAgX3dyYXBwZXJXaWR0aCA9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZShfc2xpZGVyV3JhcHBlcikud2lkdGgpO1xyXG4gICAgICAgIF9pdGVtV2lkdGggPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoX3NsaWRlckl0ZW1zWzBdKS53aWR0aCk7XHJcbiAgICAgICAgX3Bvc2l0aW9uTGVmdEl0ZW0gPSAwO1xyXG4gICAgICAgIF90cmFuc2Zvcm0gPSAwO1xyXG4gICAgICAgIF9pbmRleEluZGljYXRvciA9IDA7XHJcbiAgICAgICAgX21heEluZGV4SW5kaWNhdG9yID0gX3NsaWRlckl0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgX3N0ZXAgPSBfaXRlbVdpZHRoIC8gX3dyYXBwZXJXaWR0aCAqIDEwMDtcclxuICAgICAgICBfaXRlbXMgPSBbXTtcclxuICAgICAgICBfc2xpZGVySXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgIF9pdGVtcy5wdXNoKHsgaXRlbTogaXRlbSwgcG9zaXRpb246IGluZGV4LCB0cmFuc2Zvcm06IDAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX2FkZEluZGljYXRvcnMoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIF9zZXRVcExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfbWFpbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY29udHJvbENsaWNrKTtcclxuICAgICAgICBpZiAoX2NvbmZpZy5wYXVzZSAmJiBfY29uZmlnLmlzQ3ljbGluZykge1xyXG4gICAgICAgICAgX21haW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX2ludGVydmFsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgX21haW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX2ludGVydmFsKTtcclxuICAgICAgICAgICAgX2N5Y2xlKF9jb25maWcuZGlyZWN0aW9uKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIF9oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlLCBmYWxzZSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhclxyXG4gICAgICAgICAgICBfaW5kZXggPSAwLFxyXG4gICAgICAgICAgICB3aWR0aCA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgICBfc3RhdGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBhcnIpIHtcclxuICAgICAgICAgICAgaWYgKHdpZHRoID49IF9zdGF0ZXNbaW5kZXhdLm1pbldpZHRoKVxyXG4gICAgICAgICAgICAgIF9pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpZiAoX2luZGV4ICE9PSBfZ2V0QWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgX3NldEFjdGl2ZSgpO1xyXG4gICAgICAgICAgICBfcmVmcmVzaCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIHZhciBfYWRkSW5kaWNhdG9ycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2xpZGVySW5kaWNhdG9ycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29sJyk7XHJcbiAgICAgICAgc2xpZGVySW5kaWNhdG9ycy5jbGFzc0xpc3QuYWRkKHNlbGVjdG9yLnNwbGl0KCdfXycpWzBdLnNsaWNlKDEpKydfX2luZGljYXRvcnMnKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfc2xpZGVySXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciBzbGlkZXJJbmRpY2F0b3JzSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICBzbGlkZXJJbmRpY2F0b3JzSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNsaWRlckluZGljYXRvcnNJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtdG9cIiwgaSk7XHJcbiAgICAgIFxyXG4gICAgICAgICAgc2xpZGVySW5kaWNhdG9ycy5hcHBlbmRDaGlsZChzbGlkZXJJbmRpY2F0b3JzSXRlbSk7XHJcbiAgICAgICAgICBfc2xpZGVyV3JhcHBlci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCAgc2xpZGVySW5kaWNhdG9ycylcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc29sZS5kaXIoc2xpZGVySW5kaWNhdG9ycyk7XHJcblxyXG4gICAgICAgIC8vIF9tYWluRWxlbWVudC5hcHBlbmRDaGlsZChzbGlkZXJJbmRpY2F0b3JzKTtcclxuXHJcbiAgICAgICAgX2luZGljYXRvckl0ZW1zID0gX21haW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3Iuc3BsaXQoJ19fJylbMF0rJ19faW5kaWNhdG9ycyA+IGxpJylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INC40L3QtNC40LrQsNGC0L7RgNGLXHJcbiAgICAgIF9hZGRJbmRpY2F0b3JzKCk7XHJcbiAgICAgIC8vINC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcbiAgICAgIF9zZXRVcExpc3RlbmVycygpO1xyXG5cclxuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCIpIHtcclxuICAgICAgICBfY3ljbGUoX2NvbmZpZy5kaXJlY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICAgIF9zZXRBY3RpdmUoKTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcmlnaHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90cmFuc2Zvcm1JdGVtKCdyaWdodCcpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGVmdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgX3RyYW5zZm9ybUl0ZW0oJ2xlZnQnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF9jb25maWcuaXNDeWNsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKF9pbnRlcnZhbCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjeWNsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgX2NvbmZpZy5pc0N5Y2xpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChfaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgX2N5Y2xlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gIH0oKSk7XHJcblxyXG4gIHZhciBzbGlkZXIgPSBtdWx0aUl0ZW1TbGlkZXIoJy5zbGlkZXInLCB7XHJcbiAgICBpc0N5Y2xpbmc6IHRydWUsXHJcbiAgICBpbnRlcnZhbDogODAwMFxyXG4gIH0pO1xyXG4gIHZhciBpbnN0U2xpZGVyMSA9IG11bHRpSXRlbVNsaWRlcignLmluc3RfX3NsaWRlci0tMScsIHtcclxuICAgIGlzQ3ljbGluZzogdHJ1ZSxcclxuICAgIGludGVydmFsOiA1MDAwXHJcbiAgfSk7XHJcbiAgdmFyIGluc3RTbGlkZXIyID0gbXVsdGlJdGVtU2xpZGVyKCcuaW5zdF9fc2xpZGVyLS0yJywge1xyXG4gICAgaXNDeWNsaW5nOiB0cnVlLFxyXG4gICAgaW50ZXJ2YWw6IDUwMDBcclxuICB9KTtcclxuICB2YXIgaW5zdFNsaWRlcjMgPSBtdWx0aUl0ZW1TbGlkZXIoJy5pbnN0X19zbGlkZXItLTMnLCB7XHJcbiAgICBpc0N5Y2xpbmc6IHRydWUsXHJcbiAgICBpbnRlcnZhbDogNTAwMFxyXG4gIH0pO1xyXG4gIHZhciBpbnN0U2xpZGVyNCA9IG11bHRpSXRlbVNsaWRlcignLmluc3RfX3NsaWRlci0tNCcsIHtcclxuICAgIGlzQ3ljbGluZzogdHJ1ZSxcclxuICAgIGludGVydmFsOiA1MDAwXHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG4iXX0=
